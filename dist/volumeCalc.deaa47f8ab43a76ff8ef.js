!function(e){function t(t){for(var n,l,o=t[0],s=t[1],c=t[2],d=0,p=[];d<o.length;d++)l=o[d],Object.prototype.hasOwnProperty.call(a,l)&&a[l]&&p.push(a[l][0]),a[l]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(u&&u(t);p.length;)p.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var s=r[o];0!==a[s]&&(n=!1)}n&&(i.splice(t--,1),e=l(l.s=r[0]))}return e}var n={},a={1:0},i=[];function l(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.m=e,l.c=n,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(r,n,function(t){return e[t]}.bind(null,n));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var o=window.webpackJsonp=window.webpackJsonp||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=s;i.push([7,0]),r()}({6:function(e,t,r){},7:function(e,t,r){"use strict";r.r(t);r(6);var n=r(0),a=r(1);let i={textures:[{image:"./Data/brick-texture.jpg",price:150},{image:"./Data/coswick-oak-natural.jpg",price:30},{image:"./Data/vintage-texture.jpg",price:52},{image:"./Data/crossed-out.png",price:0}]};let l,o,s,c,u=new class{constructor(){this.materialsArea={areas:[]}}getFaceArea(e,t){let r=e.a,a=t.vertices[r],i=e.b,l=t.vertices[i],o=e.c,s=t.vertices[o],c=new n.Triangle(a,l,s);return Math.floor(1e3*c.getArea())/1e3}createPolygonByFace(e,t){let r=e.a,a=t.geometry.vertices[r],i=e.b,l=t.geometry.vertices[i],o=e.c,s=t.geometry.vertices[o],c=new n.Geometry;return c.vertices.push(a,l,s),c.faces.push(new n.Face3(0,1,2)),c}getMaterialsArea(e,t){let r=[],n=this.getFacesInfo(t,e);for(let e of i.textures)if(0!==e.price){let t=e.image;t=t.replace("./Data/","");let a=n.filter(e=>e.image===t).reduce((e,t)=>e+Math.floor(1e3*t.area)/1e3,0);r.push({image:e.image,area:a})}return r}getFacesInfo(e,t){let r=t.map((function(e){let t;return e&&(t=e.userData),t})),a=new n.Geometry;return a=a.fromBufferGeometry(e.clone().geometry),a.faces.map((function(e){let t={};return t.materialIndex=e.materialIndex,t.area=u.getFaceArea(e,a),t.image=r[e.materialIndex],t}))}fillTable(e){e.areas.length,e.areas.forEach(e=>{let t=e.image,r=document.getElementById(t),n=Math.trunc(1e3*e.area)/1e3;r.innerHTML=n;let a=document.getElementById("cost-"+t),l=i.textures.filter(t=>t.image===e.image);a.innerHTML=Math.trunc(+n*l[0].price*1e3)/1e3})}},d={};function p(e){return(new n.Vector2).set(e.clientX/window.innerWidth*2-1,-e.clientY/window.innerHeight*2+1)}!async function(){s=new n.Scene,s.background=new n.Color("#bdd0e9"),c=new n.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),o=new n.WebGLRenderer({antialias:!0}),o.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(o.domElement),l=new a.a(c,o.domElement);let e=new n.Raycaster,t=[],r={img:""};window.addEventListener("resize",(function(){c.aspect=window.innerWidth/window.innerHeight,c.updateProjectionMatrix(),o.setSize(window.innerWidth,window.innerHeight)}),!1),document.addEventListener("mousedown",(function(a){let i=p(a);e.setFromCamera(i,c);let l=e.intersectObjects(t);if(l.length>0){let e=l[0].face.materialIndex;if(r.img){let t=r.img.split("/").pop();if("crossed-out.png"!==t){let r=f.filter(e=>e.image.currentSrc.split("/").pop()===t);l[0].object.material[e]=new n.MeshBasicMaterial({map:r[0]}),w[e].userData=t}else w[e]=new n.MeshBasicMaterial({color:new n.Color("lightgrey")}),w[e].userData={};u.materialsArea.areas=u.getMaterialsArea(w,b),u.fillTable(u.materialsArea)}}}),!1),document.addEventListener("touchstart",(function(a){let i=p(a.touches[0]);e.setFromCamera(i,c);let l=e.intersectObjects(t);if(l.length>0){let e=l[0].face.materialIndex;if(r.img){let t=r.img.split("/").pop();if("crossed-out.png"!==t){let r=f.filter(e=>e.image.currentSrc.split("/").pop()===t);l[0].object.material[e]=new n.MeshBasicMaterial({map:r[0]}),w[e].userData=t}else w[e]=new n.MeshBasicMaterial({color:new n.Color("lightgrey")}),w[e].userData={};u.materialsArea.areas=u.getMaterialsArea(w,b),u.fillTable(u.materialsArea)}}}),!1);let m=new n.BoxBufferGeometry(5,5,5,1,1,1),g=new n.TextureLoader,f=await Promise.all(i.textures.map(e=>g.loadAsync(e.image))),w=[new n.MeshBasicMaterial({color:new n.Color("lightgrey")}),new n.MeshBasicMaterial({color:new n.Color("lightgrey")}),new n.MeshBasicMaterial({color:new n.Color("lightgrey")}),new n.MeshBasicMaterial({color:new n.Color("lightgrey")}),new n.MeshBasicMaterial({color:new n.Color("lightgrey")}),new n.MeshBasicMaterial({color:new n.Color("lightgrey")})],b=new n.Mesh(m,w);s.add(b),t.push(b);let h=new n.AxesHelper(5);s.add(h);let y=new n.EdgesGeometry(b.geometry);var v=new n.LineSegments(y,new n.LineBasicMaterial({color:16777215}));v.name="wire",b.add(v),c.position.z=5,c.position.x=10,c.position.y=8,l.update(),d.scene=s,d.cube=b,d.currentTexture=r,d.materials=w}(),function e(){requestAnimationFrame(e),l.update(),o.render(s,c)}();var m=r(2),g=r(3),f=r(4),w=r(5);let b=k(document.body,"div","leftMenu");k(b,"div","title").innerHTML="Калькулятор объемов";let h=k(b,"div","formInput"),y=k(h,"div","inputDiv");k(y,"label","labelClass").innerHTML="Ширина";let v=k(y,"input","inputClass");v.type="number",v.value=5,v.min=0,v.step=.1,y=k(h,"div","inputDiv"),k(y,"label","labelClass").innerHTML="Высота";let M=k(y,"input","inputClass");M.type="number",M.value=5,M.min=0,M.step=.1,y=k(h,"div","inputDiv"),k(y,"label","labelClass").innerHTML="Глубина";let L=k(y,"input","inputClass");L.type="number",L.value=5,L.min=0,L.step=.1,k(b,"label","labelClass").innerHTML="Расчеты";let x=k(b,"div","divCalculations"),C=k(x,"table","tableClass"),T=k(C,"tr","tdClass"),B=k(T,"th","thClass");B.innerHTML="Материал",B=k(T,"th","thClass"),B.innerHTML="Площадь",B=k(T,"th","thClass"),B.innerHTML="Стоимость",i.textures.forEach(e=>{let t=e.image;if(0!==e.price){let r=k(C,"tr","tdClass"),n=k(r,"td","tdClass");k(n,"img","imgTable").src=e.image;let a=k(r,"td","tdClass");a.id=t,a.innerHTML=0;let i=k(r,"td","tdClass");i.id="cost-"+t,i.innerHTML=0}}),M.addEventListener("input",e=>{let t=M.value;t<.001&&(t=.001),P("height",t,d.cube),u.materialsArea.areas=u.getMaterialsArea(d.materials,d.cube),u.fillTable(u.materialsArea)}),v.addEventListener("input",e=>{let t=v.value;t<.001&&(t=.001),P("width",t,d.cube),u.materialsArea.areas=u.getMaterialsArea(d.materials,d.cube),u.fillTable(u.materialsArea)}),L.addEventListener("input",e=>{let t=L.value;t<.001&&(t=.001),P("depth",t,d.cube),u.materialsArea.areas=u.getMaterialsArea(d.materials,d.cube),u.fillTable(u.materialsArea)});let E=k(b,"div","exportButtonDiv"),j=k(E,"button","exportButton");j.innerHTML="glTF",j.addEventListener("click",(function(){(new m.a).parse(d.scene,(function(e){D(new Blob([e],{type:"application/octet-stream"}),"Scene","glb")}),{binary:!0})}));let A=k(E,"button","exportButton");A.innerHTML="STL",A.addEventListener("click",(function(){let e=(new g.a).parse(d.scene,{binary:!0});D(new Blob([e],{type:"application/octet-stream"}),"Scene","stl")}));let O=k(E,"button","exportButton");O.innerHTML="EOBJ",O.addEventListener("click",(function(){let e=(new f.a).parse(d.scene);D(new Blob([e],{type:"text/plain"}),"Scene","obj")}));let H=k(E,"button","exportButton");H.innerHTML="PLY",H.addEventListener("click",(function(){(new w.a).parse(d.scene,(function(e){D(new Blob([e],{type:"text/plain"}),"Scene","ply")}))}));let S=k(b,"div","textureSelect");function k(e,t,r){let n=document.createElement(t);return n.className=r,e.appendChild(n),n}function D(e,t,r){let n=t+"."+r,a=document.createElement("a");a.download=n,window.navigator&&window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(e,n):(a.href=URL.createObjectURL(e),a.click(),URL.revokeObjectURL(a.href))}function P(e,t,r){let a=r.geometry,i={};Object.assign(i,a.parameters),i[e]=t;let l=function(e,t){let r=new n[e],a=Object.values(t);return r=new n[e](...a),r}(r.geometry.type,i);r.geometry.dispose(),r.geometry=l;let o=r.getObjectByName("wire");o.geometry.dispose(),o.geometry=new n.EdgesGeometry(r.geometry)}i.textures.forEach(e=>{let t=k(S,"img","imgClass");t.src=e.image,t.addEventListener("click",()=>{d.currentTexture.img=t.src;let e=document.getElementById("selectedTexture");e&&(e.style.borderColor="black",e.id="deselectedTexture"),t.style.borderColor="rgb(220, 20, 60)",t.id="selectedTexture"})})}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL0RhdGEuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NhbGN1bGF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVUkuanMiXSwibmFtZXMiOlsid2VicGFja0pzb25wQ2FsbGJhY2siLCJkYXRhIiwibW9kdWxlSWQiLCJjaHVua0lkIiwiY2h1bmtJZHMiLCJtb3JlTW9kdWxlcyIsImV4ZWN1dGVNb2R1bGVzIiwiaSIsInJlc29sdmVzIiwibGVuZ3RoIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaW5zdGFsbGVkQ2h1bmtzIiwicHVzaCIsIm1vZHVsZXMiLCJwYXJlbnRKc29ucEZ1bmN0aW9uIiwic2hpZnQiLCJkZWZlcnJlZE1vZHVsZXMiLCJhcHBseSIsImNoZWNrRGVmZXJyZWRNb2R1bGVzIiwicmVzdWx0IiwiZGVmZXJyZWRNb2R1bGUiLCJmdWxmaWxsZWQiLCJqIiwiZGVwSWQiLCJzcGxpY2UiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwicyIsImluc3RhbGxlZE1vZHVsZXMiLCIxIiwiZXhwb3J0cyIsIm1vZHVsZSIsImwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicCIsImpzb25wQXJyYXkiLCJ3aW5kb3ciLCJvbGRKc29ucEZ1bmN0aW9uIiwic2xpY2UiLCJEYXRhIiwidGV4dHVyZXMiLCJpbWFnZSIsInByaWNlIiwiY29udHJvbHMiLCJyZW5kZXJlciIsInNjZW5lIiwiY2FtZXJhIiwiY2FsY3VsYXRvciIsInRoaXMiLCJtYXRlcmlhbHNBcmVhIiwiYXJlYXMiLCJmYWNlIiwiZ2VvbWV0cnlGcm9tQnVmZmVyR2VvbWV0cnkiLCJhRmFjZSIsImEiLCJhVmVydGV4IiwidmVydGljZXMiLCJiRmFjZSIsImIiLCJiVmVydGV4IiwiY0ZhY2UiLCJjVmVydGV4IiwidHJpYW5nbGUiLCJNYXRoIiwiZmxvb3IiLCJnZXRBcmVhIiwiZ2VvbWV0cnkiLCJmYWNlcyIsIm1hdGVyaWFsc0FycmF5IiwiYXJyYXkiLCJmYWNlc0luZm8iLCJnZXRGYWNlc0luZm8iLCJpbWciLCJyZXBsYWNlIiwidG90YWxBcmVhIiwiZmlsdGVyIiwicmVkdWNlIiwic3VtIiwiY3VycmVudCIsImFyZWEiLCJpbWFnZXMiLCJtYXAiLCJpdGVtIiwic291cmNlIiwidXNlckRhdGEiLCJmcm9tQnVmZmVyR2VvbWV0cnkiLCJjbG9uZSIsImZhY2VJbmZvIiwibWF0ZXJpYWxJbmRleCIsImdldEZhY2VBcmVhIiwiZm9yRWFjaCIsImlkIiwiY2VsbCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ0cnVuYyIsImlubmVySFRNTCIsImNlbGxDb3N0IiwicHJpY2VUZXh0dXJlIiwiZWxlbSIsIk1haW5TY2VuZSIsImdldFNjcmVlblBvaW50IiwiZXZlbnQiLCJzZXQiLCJjbGllbnRYIiwiaW5uZXJXaWR0aCIsImNsaWVudFkiLCJpbm5lckhlaWdodCIsImFzeW5jIiwiYmFja2dyb3VuZCIsImFudGlhbGlhcyIsInNldFNpemUiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJkb21FbGVtZW50IiwiT3JiaXRDb250cm9scyIsInJheWNhc3RlciIsImNsaWNrYWJsZU9iamVjdHMiLCJjdXJyZW50VGV4dHVyZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJhc3BlY3QiLCJ1cGRhdGVQcm9qZWN0aW9uTWF0cml4Iiwic2NyZWVuUG9pbnQiLCJzZXRGcm9tQ2FtZXJhIiwiaW50ZXJzZWN0cyIsImludGVyc2VjdE9iamVjdHMiLCJmYWNlSW5kZXgiLCJwaWNOYW1lIiwic3BsaXQiLCJwb3AiLCJ0ZXh0dXJlMSIsInRleHR1cmVzTG9hZGVkIiwibWF0ZXJpYWwiLCJtYXRlcmlhbHMiLCJjb2xvciIsImdldE1hdGVyaWFsc0FyZWEiLCJjdWJlIiwiZmlsbFRhYmxlIiwidG91Y2hlcyIsImxvYWRlciIsIlByb21pc2UiLCJhbGwiLCJsb2FkQXN5bmMiLCJhZGQiLCJheGVzSGVscGVyIiwiZWRnZXMiLCJsaW5lIiwicG9zaXRpb24iLCJ6IiwieCIsInkiLCJ1cGRhdGUiLCJpbml0IiwiYW5pbWF0ZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInJlbmRlciIsImxlZnRNZW51IiwiY3JlYXRlRWxlbWVudCIsImZvcm1JbnB1dCIsImlucHV0RGl2Iiwid2lkdGhJbnB1dCIsInR5cGUiLCJtaW4iLCJzdGVwIiwiaGVpZ2h0SW5wdXQiLCJkZXB0aHRJbnB1dCIsImRpdkNhbGN1bGF0aW9ucyIsInRhYmxlQ2FsYyIsInJvd0hlYWRlciIsImhlYWRlciIsInJvdyIsImNlbGxJbWFnZSIsInNyYyIsImNlbGxBcmVhIiwiZSIsImhlaWdodCIsInVwZGF0ZU9iamVjdCIsIndpZHRoIiwiZGVwdGgiLCJleHBvcnRCdXR0b25EaXYiLCJleHBvcnRHTFRGQnV0dG9uIiwiR0xURkV4cG9ydGVyIiwicGFyc2UiLCJzYXZlRmlsZSIsIkJsb2IiLCJiaW5hcnkiLCJleHBvcnRTVExCdXR0b24iLCJTVExFeHBvcnRlciIsImV4cG9ydE9CSkJ1dHRvbiIsIk9CSkV4cG9ydGVyIiwiZXhwb3J0UExZQnV0dG9uIiwiUExZRXhwb3J0ZXIiLCJ0ZXh0dXJlU2VsZWN0IiwicGFyZW50IiwiY2xhc3NOYW1lIiwiZWxlbWVudCIsImJsb2IiLCJmaWxlRXh0ZW50aW9uIiwiZmlsZU5hbWUiLCJsaW5rIiwiZG93bmxvYWQiLCJuYXZpZ2F0b3IiLCJtc1NhdmVPck9wZW5CbG9iIiwiaHJlZiIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsImNsaWNrIiwicmV2b2tlT2JqZWN0VVJMIiwicGFyYW1ldGVyTmFtZSIsInBhcmFtZXRlclZhbHVlIiwiZW50aXR5IiwiZ2VvbSIsInBhcmFtcyIsImFzc2lnbiIsInBhcmFtZXRlcnMiLCJuZXdHZW9tIiwiZ2VvbWV0cnlUeXBlIiwicGFyYW1zQXJyYXkiLCJ2YWx1ZXMiLCJjcmVhdGVHZW9tZXRyeSIsImRpc3Bvc2UiLCJ3aXJlIiwiZ2V0T2JqZWN0QnlOYW1lIiwic2VsZWN0ZWQiLCJzdHlsZSIsImJvcmRlckNvbG9yIl0sIm1hcHBpbmdzIjoiYUFDRSxTQUFTQSxFQUFxQkMsR0FRN0IsSUFQQSxJQU1JQyxFQUFVQyxFQU5WQyxFQUFXSCxFQUFLLEdBQ2hCSSxFQUFjSixFQUFLLEdBQ25CSyxFQUFpQkwsRUFBSyxHQUlITSxFQUFJLEVBQUdDLEVBQVcsR0FDcENELEVBQUlILEVBQVNLLE9BQVFGLElBQ3pCSixFQUFVQyxFQUFTRyxHQUNoQkcsT0FBT0MsVUFBVUMsZUFBZUMsS0FBS0MsRUFBaUJYLElBQVlXLEVBQWdCWCxJQUNwRkssRUFBU08sS0FBS0QsRUFBZ0JYLEdBQVMsSUFFeENXLEVBQWdCWCxHQUFXLEVBRTVCLElBQUlELEtBQVlHLEVBQ1pLLE9BQU9DLFVBQVVDLGVBQWVDLEtBQUtSLEVBQWFILEtBQ3BEYyxFQUFRZCxHQUFZRyxFQUFZSCxJQUtsQyxJQUZHZSxHQUFxQkEsRUFBb0JoQixHQUV0Q08sRUFBU0MsUUFDZEQsRUFBU1UsT0FBVFYsR0FPRCxPQUhBVyxFQUFnQkosS0FBS0ssTUFBTUQsRUFBaUJiLEdBQWtCLElBR3ZEZSxJQUVSLFNBQVNBLElBRVIsSUFEQSxJQUFJQyxFQUNJZixFQUFJLEVBQUdBLEVBQUlZLEVBQWdCVixPQUFRRixJQUFLLENBRy9DLElBRkEsSUFBSWdCLEVBQWlCSixFQUFnQlosR0FDakNpQixHQUFZLEVBQ1JDLEVBQUksRUFBR0EsRUFBSUYsRUFBZWQsT0FBUWdCLElBQUssQ0FDOUMsSUFBSUMsRUFBUUgsRUFBZUUsR0FDRyxJQUEzQlgsRUFBZ0JZLEtBQWNGLEdBQVksR0FFM0NBLElBQ0ZMLEVBQWdCUSxPQUFPcEIsSUFB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QzFCeEwsRUFBTWtELEdBQUsiLCJmaWxlIjoidm9sdW1lQ2FsYy5kZWFhNDdmOGFiNDNhNzZmZjhlZi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xuIFx0ZnVuY3Rpb24gd2VicGFja0pzb25wQ2FsbGJhY2soZGF0YSkge1xuIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuIFx0XHR2YXIgbW9yZU1vZHVsZXMgPSBkYXRhWzFdO1xuIFx0XHR2YXIgZXhlY3V0ZU1vZHVsZXMgPSBkYXRhWzJdO1xuXG4gXHRcdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuIFx0XHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcbiBcdFx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMCwgcmVzb2x2ZXMgPSBbXTtcbiBcdFx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRyZXNvbHZlcy5wdXNoKGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSk7XG4gXHRcdFx0fVxuIFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG4gXHRcdH1cbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZihwYXJlbnRKc29ucEZ1bmN0aW9uKSBwYXJlbnRKc29ucEZ1bmN0aW9uKGRhdGEpO1xuXG4gXHRcdHdoaWxlKHJlc29sdmVzLmxlbmd0aCkge1xuIFx0XHRcdHJlc29sdmVzLnNoaWZ0KCkoKTtcbiBcdFx0fVxuXG4gXHRcdC8vIGFkZCBlbnRyeSBtb2R1bGVzIGZyb20gbG9hZGVkIGNodW5rIHRvIGRlZmVycmVkIGxpc3RcbiBcdFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2guYXBwbHkoZGVmZXJyZWRNb2R1bGVzLCBleGVjdXRlTW9kdWxlcyB8fCBbXSk7XG5cbiBcdFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiBhbGwgY2h1bmtzIHJlYWR5XG4gXHRcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIFx0fTtcbiBcdGZ1bmN0aW9uIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCkge1xuIFx0XHR2YXIgcmVzdWx0O1xuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGRlZmVycmVkTW9kdWxlID0gZGVmZXJyZWRNb2R1bGVzW2ldO1xuIFx0XHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuIFx0XHRcdGZvcih2YXIgaiA9IDE7IGogPCBkZWZlcnJlZE1vZHVsZS5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0dmFyIGRlcElkID0gZGVmZXJyZWRNb2R1bGVbal07XG4gXHRcdFx0XHRpZihpbnN0YWxsZWRDaHVua3NbZGVwSWRdICE9PSAwKSBmdWxmaWxsZWQgPSBmYWxzZTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYoZnVsZmlsbGVkKSB7XG4gXHRcdFx0XHRkZWZlcnJlZE1vZHVsZXMuc3BsaWNlKGktLSwgMSk7XG4gXHRcdFx0XHRyZXN1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IGRlZmVycmVkTW9kdWxlWzBdKTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHRyZXR1cm4gcmVzdWx0O1xuIFx0fVxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuIFx0Ly8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4gXHQvLyBQcm9taXNlID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxuIFx0dmFyIGluc3RhbGxlZENodW5rcyA9IHtcbiBcdFx0MTogMFxuIFx0fTtcblxuIFx0dmFyIGRlZmVycmVkTW9kdWxlcyA9IFtdO1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHR2YXIganNvbnBBcnJheSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSB8fCBbXTtcbiBcdHZhciBvbGRKc29ucEZ1bmN0aW9uID0ganNvbnBBcnJheS5wdXNoLmJpbmQoanNvbnBBcnJheSk7XG4gXHRqc29ucEFycmF5LnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjaztcbiBcdGpzb25wQXJyYXkgPSBqc29ucEFycmF5LnNsaWNlKCk7XG4gXHRmb3IodmFyIGkgPSAwOyBpIDwganNvbnBBcnJheS5sZW5ndGg7IGkrKykgd2VicGFja0pzb25wQ2FsbGJhY2soanNvbnBBcnJheVtpXSk7XG4gXHR2YXIgcGFyZW50SnNvbnBGdW5jdGlvbiA9IG9sZEpzb25wRnVuY3Rpb247XG5cblxuIFx0Ly8gYWRkIGVudHJ5IG1vZHVsZSB0byBkZWZlcnJlZCBsaXN0XG4gXHRkZWZlcnJlZE1vZHVsZXMucHVzaChbNywwXSk7XG4gXHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIHJlYWR5XG4gXHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiIsIi8qKlxyXG4gKiBAYXV0aG9yIERyYWdvbjNER3JhZmYgLyBodHRwOi8vZHJhZ29uM2RncmFmZi5ydS9cclxuKi9cclxuXHJcbmxldCBEYXRhID0ge1xyXG5cclxuXHR0ZXh0dXJlczogW1xyXG5cclxuXHRcdHtpbWFnZTonLi9EYXRhL2JyaWNrLXRleHR1cmUuanBnJywgcHJpY2U6IDE1MH0sXHJcblx0XHR7aW1hZ2U6Jy4vRGF0YS9jb3N3aWNrLW9hay1uYXR1cmFsLmpwZycsIHByaWNlOiAzMH0sXHJcblx0XHR7aW1hZ2U6Jy4vRGF0YS92aW50YWdlLXRleHR1cmUuanBnJywgcHJpY2U6IDUyfSxcclxuXHRcdHtpbWFnZTonLi9EYXRhL2Nyb3NzZWQtb3V0LnBuZycsIHByaWNlOiAwfVxyXG5cclxuXHRdXHJcbn1cclxuXHJcbmV4cG9ydCB7IERhdGEgfTsiLCIvKipcclxuICogQGF1dGhvciBEcmFnb24zREdyYWZmIC8gaHR0cDovL2RyYWdvbjNkZ3JhZmYucnUvXHJcbiovXHJcblxyXG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICcuLi9ub2RlX21vZHVsZXMvdGhyZWUvYnVpbGQvdGhyZWUubW9kdWxlLmpzJztcclxuaW1wb3J0IHsgRGF0YSB9IGZyb20gJy4vRGF0YS5qcyc7XHJcblxyXG5jbGFzcyBDYWxjdWxhdG9yIHtcclxuXHJcblx0Y29uc3RydWN0b3IgKCkge1xyXG5cclxuXHRcdHRoaXMubWF0ZXJpYWxzQXJlYSA9IHsgYXJlYXM6IFtdIH07XHJcblxyXG5cdH1cclxuXHJcblx0Z2V0RmFjZUFyZWEgKCBmYWNlLCBnZW9tZXRyeUZyb21CdWZmZXJHZW9tZXRyeSApe1xyXG5cclxuXHRcdGxldCBhRmFjZSA9IGZhY2UuYTtcclxuXHRcdGxldCBhVmVydGV4ID0gZ2VvbWV0cnlGcm9tQnVmZmVyR2VvbWV0cnkudmVydGljZXNbYUZhY2VdO1xyXG5cclxuXHRcdGxldCBiRmFjZSA9IGZhY2UuYjtcclxuXHRcdGxldCBiVmVydGV4ID0gZ2VvbWV0cnlGcm9tQnVmZmVyR2VvbWV0cnkudmVydGljZXNbYkZhY2VdO1xyXG5cclxuXHRcdGxldCBjRmFjZSA9IGZhY2UuYztcclxuXHRcdGxldCBjVmVydGV4ID0gZ2VvbWV0cnlGcm9tQnVmZmVyR2VvbWV0cnkudmVydGljZXNbY0ZhY2VdO1xyXG5cclxuXHJcblx0XHRsZXQgdHJpYW5nbGUgPSBuZXcgVEhSRUUuVHJpYW5nbGUoIGFWZXJ0ZXgsIGJWZXJ0ZXgsIGNWZXJ0ZXggKTtcclxuXHJcblx0XHRyZXR1cm4gTWF0aC5mbG9vciggMTAwMCAqIHRyaWFuZ2xlLmdldEFyZWEoKSApLzEwMDA7XHJcblxyXG5cdH1cclxuXHJcblx0Y3JlYXRlUG9seWdvbkJ5RmFjZSggZmFjZSAsIG9iamVjdCApIHtcclxuXHJcblx0XHRsZXQgYUZhY2UgPSBmYWNlLmE7XHJcblx0XHRsZXQgYVZlcnRleCA9IG9iamVjdC5nZW9tZXRyeS52ZXJ0aWNlc1thRmFjZV07XHJcblxyXG5cdFx0bGV0IGJGYWNlID0gZmFjZS5iO1xyXG5cdFx0bGV0IGJWZXJ0ZXggPSBvYmplY3QuZ2VvbWV0cnkudmVydGljZXNbYkZhY2VdO1xyXG5cclxuXHRcdGxldCBjRmFjZSA9IGZhY2UuYztcclxuXHRcdGxldCBjVmVydGV4ID0gb2JqZWN0Lmdlb21ldHJ5LnZlcnRpY2VzW2NGYWNlXTtcclxuXHJcblx0XHRsZXQgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuR2VvbWV0cnkoKTtcclxuXHJcblx0XHRnZW9tZXRyeS52ZXJ0aWNlcy5wdXNoKFxyXG5cdFx0XHRhVmVydGV4LFxyXG5cdFx0XHRiVmVydGV4LFxyXG5cdFx0XHRjVmVydGV4XHJcblx0XHRcdCk7XHJcblxyXG5cdFx0Z2VvbWV0cnkuZmFjZXMucHVzaCggbmV3IFRIUkVFLkZhY2UzKCAwLCAxLCAyICkgKTtcclxuXHJcblx0XHRyZXR1cm4gZ2VvbWV0cnk7XHJcblxyXG5cdH1cclxuXHJcblx0Z2V0TWF0ZXJpYWxzQXJlYSggbWF0ZXJpYWxzQXJyYXksIG9iamVjdCApe1xyXG5cclxuXHRcdGxldCBhcnJheSA9IFtdO1xyXG5cclxuXHRcdGxldCBmYWNlc0luZm8gPSB0aGlzLmdldEZhY2VzSW5mbyggb2JqZWN0LCBtYXRlcmlhbHNBcnJheSApO1xyXG5cclxuXHRcdGZvciAobGV0IGltZyBvZiBEYXRhLnRleHR1cmVzKXtcclxuXHJcblx0XHRcdGlmICggaW1nLnByaWNlICE9PSAwICkge1xyXG5cclxuXHRcdFx0XHRsZXQgaW1hZ2UgPSBpbWcuaW1hZ2U7XHJcblx0XHRcdFx0aW1hZ2UgPSBpbWFnZS5yZXBsYWNlKCAnLi9EYXRhLycsICcnICk7XHJcblxyXG5cdFx0XHRcdGxldCB0b3RhbEFyZWEgPSBmYWNlc0luZm8uZmlsdGVyKCBmYWNlID0+IGZhY2UuaW1hZ2UgPT09IGltYWdlKVxyXG5cdFx0XHRcdC5yZWR1Y2UoIChzdW0sIGN1cnJlbnQpID0+IHN1bSArIE1hdGguZmxvb3IoIDEwMDAgKiBjdXJyZW50LmFyZWEpLyAxMDAwLCAwKTtcclxuXHRcdFx0XHJcblx0XHRcdFx0YXJyYXkucHVzaCh7aW1hZ2U6IGltZy5pbWFnZSwgYXJlYTogdG90YWxBcmVhIH0pO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gYXJyYXk7XHJcblx0XHJcblx0fVxyXG5cclxuXHRnZXRGYWNlc0luZm8gKCBvYmplY3QsIG1hdGVyaWFsc0FycmF5ICkge1xyXG5cclxuXHRcdGxldCBpbWFnZXMgPSBtYXRlcmlhbHNBcnJheS5tYXAoIGZ1bmN0aW9uKCBpdGVtICkge1xyXG5cdFxyXG5cdFx0XHRsZXQgc291cmNlO1xyXG5cdFx0XHRpZiAoIGl0ZW0gKSB7XHJcblx0XHRcdFx0c291cmNlID0gaXRlbS51c2VyRGF0YTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHNvdXJjZTtcclxuXHRcclxuXHRcdH0pO1xyXG5cclxuXHRcdGxldCBnZW9tZXRyeUZyb21CdWZmZXJHZW9tZXRyeSA9IG5ldyBUSFJFRS5HZW9tZXRyeSgpO1xyXG5cclxuXHRcdGdlb21ldHJ5RnJvbUJ1ZmZlckdlb21ldHJ5ID0gZ2VvbWV0cnlGcm9tQnVmZmVyR2VvbWV0cnkuZnJvbUJ1ZmZlckdlb21ldHJ5KCBvYmplY3QuY2xvbmUoKS5nZW9tZXRyeSApO1xyXG5cclxuXHRcdGxldCBmYWNlc0FycmF5ID0gZ2VvbWV0cnlGcm9tQnVmZmVyR2VvbWV0cnkuZmFjZXM7XHJcblxyXG5cdFx0bGV0IGZhY2VzSW5mbyA9IGZhY2VzQXJyYXkubWFwKCBmdW5jdGlvbiggaXRlbSApe1xyXG5cclxuXHRcdFx0bGV0IGZhY2VJbmZvID0ge307XHJcblx0XHJcblx0XHRcdGZhY2VJbmZvLm1hdGVyaWFsSW5kZXggPSBpdGVtLm1hdGVyaWFsSW5kZXg7XHJcblx0XHRcdGZhY2VJbmZvLmFyZWEgPSBjYWxjdWxhdG9yLmdldEZhY2VBcmVhICggaXRlbSwgZ2VvbWV0cnlGcm9tQnVmZmVyR2VvbWV0cnkgKTtcclxuXHRcdFx0ZmFjZUluZm8uaW1hZ2UgPSBpbWFnZXNbaXRlbS5tYXRlcmlhbEluZGV4XTtcclxuXHRcclxuXHRcdFx0cmV0dXJuIGZhY2VJbmZvO1xyXG5cdFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0cmV0dXJuIGZhY2VzSW5mbztcclxuXHJcblx0fVxyXG5cclxuXHRmaWxsVGFibGUgKCBtYXRlcmlhbHNBcmVhICkge1xyXG5cclxuXHRcdGlmICggbWF0ZXJpYWxzQXJlYS5hcmVhcy5sZW5ndGggKSB7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdG1hdGVyaWFsc0FyZWEuYXJlYXMuZm9yRWFjaCggKCBpdGVtICkgPT4ge1xyXG5cclxuXHRcdFx0bGV0IGlkID0gaXRlbS5pbWFnZTtcclxuXHRcclxuXHRcdFx0bGV0IGNlbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggaWQgKTtcclxuXHRcdFx0bGV0IGFyZWEgPSBNYXRoLnRydW5jKCAxMDAwICogaXRlbS5hcmVhICkgLyAxMDAwXHJcblx0XHRcdGNlbGwuaW5uZXJIVE1MID0gYXJlYTtcclxuXHRcclxuXHRcdFx0bGV0IGNlbGxDb3N0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICdjb3N0LScgKyBpZCApO1xyXG5cdFx0XHRsZXQgcHJpY2VUZXh0dXJlID0gRGF0YS50ZXh0dXJlcy5maWx0ZXIoIGVsZW0gPT4gZWxlbS5pbWFnZSA9PT0gaXRlbS5pbWFnZSApO1xyXG5cdFxyXG5cdFx0XHRjZWxsQ29zdC5pbm5lckhUTUwgPSBNYXRoLnRydW5jKCAxMDAwICogKCthcmVhICogcHJpY2VUZXh0dXJlWzBdLnByaWNlKSApLzEwMDA7XHRcclxuXHJcblx0XHR9KVxyXG5cdFx0XHJcblx0fVxyXG5cclxufVxyXG5cclxubGV0IGNhbGN1bGF0b3IgPSBuZXcgQ2FsY3VsYXRvcigpO1xyXG5cclxuZXhwb3J0IHsgY2FsY3VsYXRvciB9IiwiLyoqXHJcbiAqIEBhdXRob3IgRHJhZ29uM0RHcmFmZiAvIGh0dHA6Ly9kcmFnb24zZGdyYWZmLnJ1L1xyXG4qL1xyXG5cclxuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAnLi4vbm9kZV9tb2R1bGVzL3RocmVlL2J1aWxkL3RocmVlLm1vZHVsZS5qcyc7XHJcbmltcG9ydCB7IE9yYml0Q29udHJvbHMgfSBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL3RocmVlL2V4YW1wbGVzL2pzbS9jb250cm9scy9PcmJpdENvbnRyb2xzLmpzXCI7XHJcbmltcG9ydCB7IGNhbGN1bGF0b3IgfSBmcm9tICcuL0NhbGN1bGF0b3IuanMnO1xyXG5pbXBvcnQgeyBEYXRhIH0gZnJvbSAnLi9EYXRhLmpzJ1xyXG5cclxubGV0IE1haW5TY2VuZSA9IHt9O1xyXG5sZXQgY29udHJvbHM7XHJcbmxldCByZW5kZXJlcjtcclxubGV0IHNjZW5lO1xyXG5sZXQgY2FtZXJhO1xyXG5cclxuaW5pdCgpO1xyXG5hbmltYXRlKCk7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBpbml0KCkge1xyXG5cclxuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoICk7XHJcbnNjZW5lLmJhY2tncm91bmQgPSBuZXcgVEhSRUUuQ29sb3IoJyNiZGQwZTknKTtcclxuXHJcbmNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSggNzUsIHdpbmRvdy5pbm5lcldpZHRoL3dpbmRvdy5pbm5lckhlaWdodCwgMC4xLCAxMDAwICk7XHJcblxyXG5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHsgYW50aWFsaWFzOiB0cnVlIH0pO1xyXG5yZW5kZXJlci5zZXRTaXplKCB3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0ICk7XHJcbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoIHJlbmRlcmVyLmRvbUVsZW1lbnQgKTtcclxuXHJcbmNvbnRyb2xzID0gbmV3IE9yYml0Q29udHJvbHMoY2FtZXJhLCByZW5kZXJlci5kb21FbGVtZW50KTtcclxuXHJcbmxldCByYXljYXN0ZXIgPSBuZXcgVEhSRUUuUmF5Y2FzdGVyKCk7XHJcblxyXG5sZXQgY2xpY2thYmxlT2JqZWN0cyA9IFtdO1xyXG5sZXQgY3VycmVudFRleHR1cmUgPSB7IGltZzogJycgfTtcclxuXHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgb25XaW5kb3dSZXNpemUsIGZhbHNlKTtcclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25Eb2N1bWVudE1vdXNlQ2xpY2ssIGZhbHNlKTtcclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIG9uRG9jdW1lbnRUb3VjaFN0YXJ0LCBmYWxzZSk7XHJcblxyXG5mdW5jdGlvbiBvbldpbmRvd1Jlc2l6ZSgpIHtcclxuXHJcblx0Y2FtZXJhLmFzcGVjdCA9IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0O1xyXG5cdGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XHRcclxuXHRyZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xyXG5cclxufVxyXG5cclxubGV0IGdlb21ldHJ5ID0gbmV3IFRIUkVFLkJveEJ1ZmZlckdlb21ldHJ5KCA1LCA1LCA1LCAxLCAxLCAxICk7XHJcblxyXG5sZXQgbG9hZGVyID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKTtcclxubGV0IHRleHR1cmVzTG9hZGVkID0gYXdhaXQgUHJvbWlzZS5hbGwoIFxyXG5cclxuXHREYXRhLnRleHR1cmVzLm1hcCggKCBpdGVtICkgPT4gbG9hZGVyLmxvYWRBc3luYyggaXRlbS5pbWFnZSApIClcclxuXHJcbiApO1xyXG5cclxubGV0IG1hdGVyaWFscyA9IFtcclxuXHJcblx0bmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKCB7IGNvbG9yOiBuZXcgVEhSRUUuQ29sb3IoICdsaWdodGdyZXknICkgfSApLFxyXG5cdG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCggeyBjb2xvcjogbmV3IFRIUkVFLkNvbG9yKCAnbGlnaHRncmV5JyApIH0gKSxcclxuXHRuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoIHsgY29sb3I6IG5ldyBUSFJFRS5Db2xvciggJ2xpZ2h0Z3JleScgKSB9ICksXHJcblx0bmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKCB7IGNvbG9yOiBuZXcgVEhSRUUuQ29sb3IoICdsaWdodGdyZXknICkgfSApLFxyXG5cdG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCggeyBjb2xvcjogbmV3IFRIUkVFLkNvbG9yKCAnbGlnaHRncmV5JyApIH0gKSxcclxuXHRuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoIHsgY29sb3I6IG5ldyBUSFJFRS5Db2xvciggJ2xpZ2h0Z3JleScgKSB9IClcclxuXHJcbl1cclxuXHJcbmxldCBjdWJlID0gbmV3IFRIUkVFLk1lc2goIGdlb21ldHJ5LCBtYXRlcmlhbHMgKTtcclxuc2NlbmUuYWRkKCBjdWJlICk7XHJcbmNsaWNrYWJsZU9iamVjdHMucHVzaCggY3ViZSApO1xyXG5cclxubGV0IGF4ZXNIZWxwZXIgPSBuZXcgVEhSRUUuQXhlc0hlbHBlciggNSApO1xyXG5zY2VuZS5hZGQoIGF4ZXNIZWxwZXIgKTtcclxuXHJcbmxldCBlZGdlcyA9IG5ldyBUSFJFRS5FZGdlc0dlb21ldHJ5KCBjdWJlLmdlb21ldHJ5ICk7XHJcbnZhciBsaW5lID0gbmV3IFRIUkVFLkxpbmVTZWdtZW50cyggZWRnZXMsIG5ldyBUSFJFRS5MaW5lQmFzaWNNYXRlcmlhbCggeyBjb2xvcjogMHhmZmZmZmYgfSApICk7XHJcbmxpbmUubmFtZSA9ICd3aXJlJztcclxuY3ViZS5hZGQoIGxpbmUgKTtcclxuXHJcbmNhbWVyYS5wb3NpdGlvbi56ID0gNTtcclxuY2FtZXJhLnBvc2l0aW9uLnggPSAxMDtcclxuY2FtZXJhLnBvc2l0aW9uLnkgPSA4O1xyXG5jb250cm9scy51cGRhdGUoKTtcclxuXHJcbmZ1bmN0aW9uIG9uRG9jdW1lbnRNb3VzZUNsaWNrKCBldmVudCApIHtcclxuXHJcblx0bGV0IHNjcmVlblBvaW50ID0gZ2V0U2NyZWVuUG9pbnQoZXZlbnQpO1xyXG5cclxuXHRyYXljYXN0ZXIuc2V0RnJvbUNhbWVyYShzY3JlZW5Qb2ludCwgY2FtZXJhKTtcclxuXHRcclxuXHRsZXQgaW50ZXJzZWN0cyA9IHJheWNhc3Rlci5pbnRlcnNlY3RPYmplY3RzKCBjbGlja2FibGVPYmplY3RzICk7XHJcblxyXG5cdGlmICggaW50ZXJzZWN0cy5sZW5ndGggPiAwICl7XHJcblxyXG5cdFx0bGV0IGZhY2VJbmRleCA9IGludGVyc2VjdHNbMF0uZmFjZS5tYXRlcmlhbEluZGV4O1xyXG5cclxuXHRcdGlmICggY3VycmVudFRleHR1cmUuaW1nICl7XHJcblxyXG5cdFx0XHRsZXQgdGV4dHVyZTtcclxuXHRcdFx0bGV0IHBpY05hbWUgPSAoKGN1cnJlbnRUZXh0dXJlLmltZykuc3BsaXQoJy8nKSkucG9wKCk7XHJcblxyXG5cdFx0XHRpZiAoIHBpY05hbWUgIT09ICdjcm9zc2VkLW91dC5wbmcnICkge1xyXG5cclxuXHRcdFx0XHRsZXQgdGV4dHVyZTEgPSB0ZXh0dXJlc0xvYWRlZC5maWx0ZXIoICggaXRlbSApID0+ICgoaXRlbS5pbWFnZS5jdXJyZW50U3JjKS5zcGxpdCgnLycpKS5wb3AoKSA9PT0gcGljTmFtZSApO1xyXG5cclxuXHRcdFx0XHRcdGludGVyc2VjdHNbMF0ub2JqZWN0Lm1hdGVyaWFsWyBmYWNlSW5kZXggXSA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCggeyBtYXA6IHRleHR1cmUxWzBdIH0gKTtcclxuXHJcblx0XHRcdFx0XHRtYXRlcmlhbHNbIGZhY2VJbmRleCBdLnVzZXJEYXRhID0gcGljTmFtZTtcclxuXHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblxyXG5cdFx0XHRcdG1hdGVyaWFsc1sgZmFjZUluZGV4IF0gPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoIHsgY29sb3I6IG5ldyBUSFJFRS5Db2xvciggJ2xpZ2h0Z3JleScgKSB9ICk7XHJcblx0XHRcdFx0bWF0ZXJpYWxzWyBmYWNlSW5kZXggXS51c2VyRGF0YSA9IHt9O1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y2FsY3VsYXRvci5tYXRlcmlhbHNBcmVhLmFyZWFzID0gY2FsY3VsYXRvci5nZXRNYXRlcmlhbHNBcmVhKCBtYXRlcmlhbHMsIGN1YmUgKTtcclxuXHJcblx0XHRcdGNhbGN1bGF0b3IuZmlsbFRhYmxlICggY2FsY3VsYXRvci5tYXRlcmlhbHNBcmVhICk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHR9XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBvbkRvY3VtZW50VG91Y2hTdGFydCggZXZlbnQgKSB7XHJcblxyXG5cdGxldCBzY3JlZW5Qb2ludCA9IGdldFNjcmVlblBvaW50KCBldmVudC50b3VjaGVzWzBdICk7XHJcblxyXG5cdHJheWNhc3Rlci5zZXRGcm9tQ2FtZXJhKHNjcmVlblBvaW50LCBjYW1lcmEpO1xyXG5cdFxyXG5cdGxldCBpbnRlcnNlY3RzID0gcmF5Y2FzdGVyLmludGVyc2VjdE9iamVjdHMoIGNsaWNrYWJsZU9iamVjdHMgKTtcclxuXHJcblx0aWYgKCBpbnRlcnNlY3RzLmxlbmd0aCA+IDAgKXtcclxuXHJcblx0XHRsZXQgZmFjZUluZGV4ID0gaW50ZXJzZWN0c1swXS5mYWNlLm1hdGVyaWFsSW5kZXg7XHJcblxyXG5cdFx0aWYgKCBjdXJyZW50VGV4dHVyZS5pbWcgKXtcclxuXHJcblx0XHRcdGxldCBwaWNOYW1lID0gKChjdXJyZW50VGV4dHVyZS5pbWcpLnNwbGl0KCcvJykpLnBvcCgpO1xyXG5cclxuXHRcdFx0aWYgKCBwaWNOYW1lICE9PSAnY3Jvc3NlZC1vdXQucG5nJyApIHtcclxuXHJcblx0XHRcdFx0bGV0IHRleHR1cmUxID0gdGV4dHVyZXNMb2FkZWQuZmlsdGVyKCAoIGl0ZW0gKSA9PiAoKGl0ZW0uaW1hZ2UuY3VycmVudFNyYykuc3BsaXQoJy8nKSkucG9wKCkgPT09IHBpY05hbWUgKTtcclxuXHJcblx0XHRcdFx0XHRpbnRlcnNlY3RzWzBdLm9iamVjdC5tYXRlcmlhbFsgZmFjZUluZGV4IF0gPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoIHsgbWFwOiB0ZXh0dXJlMVswXSB9ICk7XHJcblxyXG5cdFx0XHRcdFx0bWF0ZXJpYWxzWyBmYWNlSW5kZXggXS51c2VyRGF0YSA9IHBpY05hbWU7XHJcblxyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cclxuXHRcdFx0XHRtYXRlcmlhbHNbIGZhY2VJbmRleCBdID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKCB7IGNvbG9yOiBuZXcgVEhSRUUuQ29sb3IoICdsaWdodGdyZXknICkgfSApO1xyXG5cdFx0XHRcdG1hdGVyaWFsc1sgZmFjZUluZGV4IF0udXNlckRhdGEgPSB7fTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNhbGN1bGF0b3IubWF0ZXJpYWxzQXJlYS5hcmVhcyA9IGNhbGN1bGF0b3IuZ2V0TWF0ZXJpYWxzQXJlYSggbWF0ZXJpYWxzLCBjdWJlICk7XHJcblxyXG5cdFx0XHRjYWxjdWxhdG9yLmZpbGxUYWJsZSAoIGNhbGN1bGF0b3IubWF0ZXJpYWxzQXJlYSApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHJcbn1cclxuXHJcbk1haW5TY2VuZS5zY2VuZSA9IHNjZW5lO1xyXG5NYWluU2NlbmUuY3ViZSA9IGN1YmU7XHJcbk1haW5TY2VuZS5jdXJyZW50VGV4dHVyZSA9IGN1cnJlbnRUZXh0dXJlO1xyXG5NYWluU2NlbmUubWF0ZXJpYWxzID0gbWF0ZXJpYWxzO1xyXG59XHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIGFuaW1hdGUgKCkge1xyXG5cdHJlcXVlc3RBbmltYXRpb25GcmFtZSggYW5pbWF0ZSApO1xyXG5cdGNvbnRyb2xzLnVwZGF0ZSgpO1xyXG5cclxuXHRyZW5kZXJlci5yZW5kZXIoIHNjZW5lLCBjYW1lcmEgKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGdldFNjcmVlblBvaW50KGV2ZW50KSB7XHJcblx0Ly8gZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRjb25zdCBzY3JlZW5Qb2ludCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XHJcblx0cmV0dXJuIHNjcmVlblBvaW50LnNldCgoZXZlbnQuY2xpZW50WCAvIHdpbmRvdy5pbm5lcldpZHRoKSAqIDIgLSAxLCAtKGV2ZW50LmNsaWVudFkgLyB3aW5kb3cuaW5uZXJIZWlnaHQpICogMiArIDEpO1xyXG59XHJcblxyXG5leHBvcnQgeyBNYWluU2NlbmUgfTsiLCIvKipcclxuICogQGF1dGhvciBEcmFnb24zREdyYWZmIC8gaHR0cDovL2RyYWdvbjNkZ3JhZmYucnUvXHJcbiovXHJcblxyXG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICcuLi9ub2RlX21vZHVsZXMvdGhyZWUvYnVpbGQvdGhyZWUubW9kdWxlLmpzJztcclxuaW1wb3J0IHsgTWFpblNjZW5lIH0gZnJvbSAnLi9lbmdpbmUuanMnO1xyXG5pbXBvcnQgeyBjYWxjdWxhdG9yIH0gZnJvbSAnLi9DYWxjdWxhdG9yLmpzJ1xyXG5pbXBvcnQgeyBHTFRGRXhwb3J0ZXIgfSBmcm9tICcuLi9ub2RlX21vZHVsZXMvdGhyZWUvZXhhbXBsZXMvanNtL2V4cG9ydGVycy9HTFRGRXhwb3J0ZXIuanMnO1xyXG5pbXBvcnQgeyBTVExFeHBvcnRlciB9IGZyb20gJy4uL25vZGVfbW9kdWxlcy90aHJlZS9leGFtcGxlcy9qc20vZXhwb3J0ZXJzL1NUTEV4cG9ydGVyLmpzJztcclxuaW1wb3J0IHsgT0JKRXhwb3J0ZXIgfSBmcm9tICcuLi9ub2RlX21vZHVsZXMvdGhyZWUvZXhhbXBsZXMvanNtL2V4cG9ydGVycy9PQkpFeHBvcnRlci5qcyc7XHJcbmltcG9ydCB7IFBMWUV4cG9ydGVyICB9IGZyb20gJy4uL25vZGVfbW9kdWxlcy90aHJlZS9leGFtcGxlcy9qc20vZXhwb3J0ZXJzL1BMWUV4cG9ydGVyLmpzJztcclxuaW1wb3J0IHsgRGF0YSB9IGZyb20gJy4vRGF0YS5qcyc7XHJcblxyXG5cclxubGV0IFVJID0ge307XHJcblxyXG5sZXQgbGVmdE1lbnUgPSBjcmVhdGVFbGVtZW50KCBkb2N1bWVudC5ib2R5LCAnZGl2JywgJ2xlZnRNZW51Jyk7XHJcblxyXG5cclxubGV0IHRpdGxlID0gY3JlYXRlRWxlbWVudCggbGVmdE1lbnUsICdkaXYnLCAndGl0bGUnKTtcclxudGl0bGUuaW5uZXJIVE1MID0gJ9Ca0LDQu9GM0LrRg9C70Y/RgtC+0YAg0L7QsdGK0LXQvNC+0LInO1xyXG5cclxubGV0IGZvcm1JbnB1dCA9IGNyZWF0ZUVsZW1lbnQoIGxlZnRNZW51LCAnZGl2JywgJ2Zvcm1JbnB1dCcpO1xyXG5cclxubGV0IGlucHV0RGl2ID0gY3JlYXRlRWxlbWVudCAoIGZvcm1JbnB1dCwgJ2RpdicsICdpbnB1dERpdicpO1xyXG5cclxubGV0IHRleHRXaWR0aElucHV0ID0gY3JlYXRlRWxlbWVudCggaW5wdXREaXYsICdsYWJlbCcsICdsYWJlbENsYXNzJyk7XHJcbnRleHRXaWR0aElucHV0LmlubmVySFRNTCA9ICfQqNC40YDQuNC90LAnO1xyXG5cclxubGV0IHdpZHRoSW5wdXQgPSBjcmVhdGVFbGVtZW50KCBpbnB1dERpdiwgJ2lucHV0JywgJ2lucHV0Q2xhc3MnKTtcclxud2lkdGhJbnB1dC50eXBlID0gJ251bWJlcic7XHJcbndpZHRoSW5wdXQudmFsdWUgPSA1O1xyXG53aWR0aElucHV0Lm1pbiA9IDA7XHJcbndpZHRoSW5wdXQuc3RlcCA9IDAuMTtcclxuXHJcblxyXG5pbnB1dERpdiA9IGNyZWF0ZUVsZW1lbnQgKCBmb3JtSW5wdXQsICdkaXYnLCAnaW5wdXREaXYnKTtcclxubGV0IHRleHRIZWlnaHRJbnB1dCA9IGNyZWF0ZUVsZW1lbnQoIGlucHV0RGl2LCAnbGFiZWwnLCAnbGFiZWxDbGFzcycpO1xyXG50ZXh0SGVpZ2h0SW5wdXQuaW5uZXJIVE1MID0gJ9CS0YvRgdC+0YLQsCc7XHJcblxyXG5sZXQgaGVpZ2h0SW5wdXQgPSBjcmVhdGVFbGVtZW50KCBpbnB1dERpdiwgJ2lucHV0JywgJ2lucHV0Q2xhc3MnKTtcclxuaGVpZ2h0SW5wdXQudHlwZSA9ICdudW1iZXInO1xyXG5oZWlnaHRJbnB1dC52YWx1ZSA9IDU7XHJcbmhlaWdodElucHV0Lm1pbiA9IDA7XHJcbmhlaWdodElucHV0LnN0ZXAgPSAwLjE7XHJcblxyXG5cclxuaW5wdXREaXYgPSBjcmVhdGVFbGVtZW50ICggZm9ybUlucHV0LCAnZGl2JywgJ2lucHV0RGl2Jyk7XHJcbmxldCB0ZXh0RGVwdGh0SW5wdXQgPSBjcmVhdGVFbGVtZW50KCBpbnB1dERpdiwgJ2xhYmVsJywgJ2xhYmVsQ2xhc3MnKTtcclxudGV4dERlcHRodElucHV0LmlubmVySFRNTCA9ICfQk9C70YPQsdC40L3QsCc7XHJcblxyXG5sZXQgZGVwdGh0SW5wdXQgPSBjcmVhdGVFbGVtZW50KCBpbnB1dERpdiwgJ2lucHV0JywgJ2lucHV0Q2xhc3MnKTtcclxuZGVwdGh0SW5wdXQudHlwZSA9ICdudW1iZXInO1xyXG5kZXB0aHRJbnB1dC52YWx1ZSA9IDU7XHJcbmRlcHRodElucHV0Lm1pbiA9IDA7XHJcbmRlcHRodElucHV0LnN0ZXAgPSAwLjE7XHJcblxyXG5cclxubGV0IGNhbGN1bGF0aW9uc1RleHQgPSBjcmVhdGVFbGVtZW50KCBsZWZ0TWVudSwgJ2xhYmVsJywgJ2xhYmVsQ2xhc3MnICk7XHJcbmNhbGN1bGF0aW9uc1RleHQuaW5uZXJIVE1MID0gJ9Cg0LDRgdGH0LXRgtGLJztcclxuXHJcbmxldCBkaXZDYWxjdWxhdGlvbnMgPSBjcmVhdGVFbGVtZW50KCBsZWZ0TWVudSwgJ2RpdicsICdkaXZDYWxjdWxhdGlvbnMnICk7XHJcblxyXG5sZXQgdGFibGVDYWxjID0gY3JlYXRlRWxlbWVudCggZGl2Q2FsY3VsYXRpb25zLCAndGFibGUnLCAndGFibGVDbGFzcycgKTtcclxubGV0IHJvd0hlYWRlciA9IGNyZWF0ZUVsZW1lbnQoIHRhYmxlQ2FsYywgJ3RyJywgJ3RkQ2xhc3MnKTtcclxubGV0IGhlYWRlciA9IGNyZWF0ZUVsZW1lbnQoIHJvd0hlYWRlciwgJ3RoJywgJ3RoQ2xhc3MnKTtcclxuaGVhZGVyLmlubmVySFRNTCA9ICfQnNCw0YLQtdGA0LjQsNC7JztcclxuaGVhZGVyID0gY3JlYXRlRWxlbWVudCggcm93SGVhZGVyLCAndGgnLCAndGhDbGFzcycpO1xyXG5oZWFkZXIuaW5uZXJIVE1MID0gJ9Cf0LvQvtGJ0LDQtNGMJztcclxuaGVhZGVyID0gY3JlYXRlRWxlbWVudCggcm93SGVhZGVyLCAndGgnLCAndGhDbGFzcycpO1xyXG5oZWFkZXIuaW5uZXJIVE1MID0gJ9Ch0YLQvtC40LzQvtGB0YLRjCc7XHJcblxyXG5EYXRhLnRleHR1cmVzLmZvckVhY2goIChpdGVtICkgPT4ge1xyXG5cclxuXHRsZXQgaW1hZ2UgPSBpdGVtLmltYWdlO1xyXG5cclxuXHRpZiAoaXRlbS5wcmljZSAhPT0gMCApIHtcclxuXHRcdGxldCByb3cgPSBjcmVhdGVFbGVtZW50KCB0YWJsZUNhbGMsICd0cicsICd0ZENsYXNzJyk7XHJcblx0XHRsZXQgY2VsbEltYWdlID0gY3JlYXRlRWxlbWVudCggcm93LCAndGQnLCAndGRDbGFzcycpO1xyXG5cdFx0XHRsZXQgaW1nVGFibGUgPSBjcmVhdGVFbGVtZW50KCBjZWxsSW1hZ2UsICdpbWcnLCAnaW1nVGFibGUnKTtcclxuXHRcdFx0aW1nVGFibGUuc3JjID0gaXRlbS5pbWFnZTtcclxuXHJcblx0XHRsZXQgY2VsbEFyZWEgPSBjcmVhdGVFbGVtZW50KCByb3csICd0ZCcsICd0ZENsYXNzJyk7XHJcblx0XHRjZWxsQXJlYS5pZCA9IGltYWdlO1xyXG5cdFx0Y2VsbEFyZWEuaW5uZXJIVE1MID0gMDtcclxuXHJcblx0XHRsZXQgY2VsbENvc3QgPSBjcmVhdGVFbGVtZW50KCByb3csICd0ZCcsICd0ZENsYXNzJyk7XHJcblx0XHRjZWxsQ29zdC5pZCA9ICdjb3N0LScgKyBpbWFnZTtcclxuXHRcdGNlbGxDb3N0LmlubmVySFRNTCA9IDA7XHJcblx0fVxyXG5cclxufSk7XHJcblxyXG5oZWlnaHRJbnB1dC5hZGRFdmVudExpc3RlbmVyKCAnaW5wdXQnLCAoZSkgPT4ge1xyXG5cclxuXHRsZXQgaGVpZ2h0ID0gaGVpZ2h0SW5wdXQudmFsdWU7XHJcblxyXG5cdGlmICggaGVpZ2h0IDwgMC4wMDEgKSBoZWlnaHQgPSAwLjAwMTtcclxuXHJcblx0dXBkYXRlT2JqZWN0KCdoZWlnaHQnLCBoZWlnaHQsIE1haW5TY2VuZS5jdWJlICk7XHJcblx0Y2FsY3VsYXRvci5tYXRlcmlhbHNBcmVhLmFyZWFzID0gY2FsY3VsYXRvci5nZXRNYXRlcmlhbHNBcmVhKCBNYWluU2NlbmUubWF0ZXJpYWxzLCBNYWluU2NlbmUuY3ViZSApO1xyXG5cdGNhbGN1bGF0b3IuZmlsbFRhYmxlICggY2FsY3VsYXRvci5tYXRlcmlhbHNBcmVhICk7XHJcblxyXG59KTtcclxuXHJcbndpZHRoSW5wdXQuYWRkRXZlbnRMaXN0ZW5lciggJ2lucHV0JywgKGUpID0+IHtcclxuXHJcblx0bGV0IHdpZHRoID0gd2lkdGhJbnB1dC52YWx1ZTtcclxuXHJcblx0aWYgKCB3aWR0aCA8IDAuMDAxICkgd2lkdGggPSAwLjAwMTtcclxuXHJcblx0dXBkYXRlT2JqZWN0KCd3aWR0aCcsIHdpZHRoLCBNYWluU2NlbmUuY3ViZSApO1xyXG5cdGNhbGN1bGF0b3IubWF0ZXJpYWxzQXJlYS5hcmVhcyA9IGNhbGN1bGF0b3IuZ2V0TWF0ZXJpYWxzQXJlYSggTWFpblNjZW5lLm1hdGVyaWFscywgTWFpblNjZW5lLmN1YmUgKTtcclxuXHRjYWxjdWxhdG9yLmZpbGxUYWJsZSAoIGNhbGN1bGF0b3IubWF0ZXJpYWxzQXJlYSApO1xyXG5cclxufSk7XHJcblxyXG5kZXB0aHRJbnB1dC5hZGRFdmVudExpc3RlbmVyKCAnaW5wdXQnLCAoZSkgPT4ge1xyXG5cclxuXHRsZXQgZGVwdGggPSBkZXB0aHRJbnB1dC52YWx1ZTtcclxuXHJcblx0aWYgKCBkZXB0aCA8IDAuMDAxICkgZGVwdGggPSAwLjAwMTtcclxuXHJcblx0dXBkYXRlT2JqZWN0KCdkZXB0aCcsIGRlcHRoLCBNYWluU2NlbmUuY3ViZSApO1xyXG5cdGNhbGN1bGF0b3IubWF0ZXJpYWxzQXJlYS5hcmVhcyA9IGNhbGN1bGF0b3IuZ2V0TWF0ZXJpYWxzQXJlYSggTWFpblNjZW5lLm1hdGVyaWFscywgTWFpblNjZW5lLmN1YmUgKTtcclxuXHRjYWxjdWxhdG9yLmZpbGxUYWJsZSAoIGNhbGN1bGF0b3IubWF0ZXJpYWxzQXJlYSApO1xyXG5cclxufSk7XHJcblxyXG5cclxubGV0IGV4cG9ydEJ1dHRvbkRpdiA9IGNyZWF0ZUVsZW1lbnQoIGxlZnRNZW51LCAnZGl2JywgJ2V4cG9ydEJ1dHRvbkRpdicpO1xyXG5cclxubGV0IGV4cG9ydEdMVEZCdXR0b24gPSBjcmVhdGVFbGVtZW50KCBleHBvcnRCdXR0b25EaXYsICdidXR0b24nLCAnZXhwb3J0QnV0dG9uJyk7XHJcbmV4cG9ydEdMVEZCdXR0b24uaW5uZXJIVE1MID0gJ2dsVEYnO1xyXG5leHBvcnRHTFRGQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsIGV4cG9ydEdMVEYpO1xyXG5cclxubGV0IGV4cG9ydFNUTEJ1dHRvbiA9IGNyZWF0ZUVsZW1lbnQoIGV4cG9ydEJ1dHRvbkRpdiwgJ2J1dHRvbicsICdleHBvcnRCdXR0b24nKTtcclxuZXhwb3J0U1RMQnV0dG9uLmlubmVySFRNTCA9ICdTVEwnO1xyXG5leHBvcnRTVExCdXR0b24uYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgZXhwb3J0U1RMQmluYXJ5KTtcclxuXHJcbmxldCBleHBvcnRPQkpCdXR0b24gPSBjcmVhdGVFbGVtZW50KCBleHBvcnRCdXR0b25EaXYsICdidXR0b24nLCAnZXhwb3J0QnV0dG9uJyk7XHJcbmV4cG9ydE9CSkJ1dHRvbi5pbm5lckhUTUwgPSAnRU9CSic7XHJcbmV4cG9ydE9CSkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCBleHBvcnRPQkopO1xyXG5cclxubGV0IGV4cG9ydFBMWUJ1dHRvbiA9IGNyZWF0ZUVsZW1lbnQoIGV4cG9ydEJ1dHRvbkRpdiwgJ2J1dHRvbicsICdleHBvcnRCdXR0b24nKTtcclxuZXhwb3J0UExZQnV0dG9uLmlubmVySFRNTCA9ICdQTFknO1xyXG5leHBvcnRQTFlCdXR0b24uYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgZXhwb3J0UExZKTtcclxuXHJcblxyXG5cclxubGV0IHRleHR1cmVTZWxlY3QgPSBjcmVhdGVFbGVtZW50KCBsZWZ0TWVudSwgJ2RpdicsICd0ZXh0dXJlU2VsZWN0Jyk7XHJcblxyXG5EYXRhLnRleHR1cmVzLmZvckVhY2goIChpdGVtICkgPT4ge1xyXG5cclxuXHRsZXQgaW1hZ2UgPSBjcmVhdGVFbGVtZW50KCB0ZXh0dXJlU2VsZWN0LCAnaW1nJywgJ2ltZ0NsYXNzJyk7XHJcblx0aW1hZ2Uuc3JjID0gaXRlbS5pbWFnZTtcclxuXHRpbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuXHJcblx0XHRNYWluU2NlbmUuY3VycmVudFRleHR1cmUuaW1nID0gaW1hZ2Uuc3JjO1xyXG5cclxuXHRcdGxldCBzZWxlY3RlZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAnc2VsZWN0ZWRUZXh0dXJlJyApO1xyXG5cdFx0aWYgKCBzZWxlY3RlZCApe1xyXG5cclxuXHRcdFx0c2VsZWN0ZWQuc3R5bGUuYm9yZGVyQ29sb3IgPSAnYmxhY2snO1xyXG5cdFx0XHRzZWxlY3RlZC5pZCA9ICdkZXNlbGVjdGVkVGV4dHVyZSc7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGltYWdlLnN0eWxlLmJvcmRlckNvbG9yID0gJ3JnYigyMjAsIDIwLCA2MCknO1xyXG5cdFx0aW1hZ2UuaWQgPSAnc2VsZWN0ZWRUZXh0dXJlJztcclxuXHJcblx0fSlcclxuXHJcbn0gKTtcclxuXHJcblxyXG5cclxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudCAoIHBhcmVudCwgdHlwZSwgY2xhc3NOYW1lICkge1xyXG5cclxuXHRsZXQgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIHR5cGUgKTtcclxuXHRlbGVtZW50LmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuXHRwYXJlbnQuYXBwZW5kQ2hpbGQoIGVsZW1lbnQgKTtcclxuXHJcblx0cmV0dXJuIGVsZW1lbnQ7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBleHBvcnRHTFRGKCl7XHJcblxyXG5cdGxldCBnbHRmRXhwb3J0ZXIgPSBuZXcgR0xURkV4cG9ydGVyKCk7XHJcblxyXG5cdGdsdGZFeHBvcnRlci5wYXJzZSggTWFpblNjZW5lLnNjZW5lLCBmdW5jdGlvbiAoIHJlc3VsdCApIHtcclxuXHJcblx0XHQvLyBsZXQgZ2x0ZiA9IEpTT04uc3RyaW5naWZ5KCByZXN1bHQsIG51bGwsIDIgKTtcclxuXHJcblx0XHRsZXQgYmxvYiA9IG5ldyBCbG9iKCBbIHJlc3VsdCBdLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nIH0pO1xyXG5cclxuXHRcdHNhdmVGaWxlKCBibG9iICwgJ1NjZW5lJywgJ2dsYicgKTtcclxuXHJcblx0fSwgeyBiaW5hcnk6IHRydWUgfSApO1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gZXhwb3J0T0JKKCkge1xyXG5cclxuXHRsZXQgb2JqRXhwb3J0ZXIgPSBuZXcgT0JKRXhwb3J0ZXIoKTtcclxuXHJcblx0bGV0IHJlc3VsdCA9IG9iakV4cG9ydGVyLnBhcnNlKCBNYWluU2NlbmUuc2NlbmUpO1xyXG5cclxuXHRcdC8vIGxldCBvYmogPSBKU09OLnN0cmluZ2lmeSggcmVzdWx0LCBudWxsLCAyICk7XHJcblxyXG5cdFx0bGV0IGJsb2IgPSBuZXcgQmxvYiggW3Jlc3VsdF0sIHt0eXBlOiAndGV4dC9wbGFpbid9KTtcclxuXHJcblx0XHRzYXZlRmlsZSggYmxvYiAsICdTY2VuZScsICdvYmonICk7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBleHBvcnRQTFkoKSB7XHJcblxyXG5cdGxldCBwbHlmRXhwb3J0ZXIgPSBuZXcgUExZRXhwb3J0ZXIoKTtcclxuXHJcblx0cGx5ZkV4cG9ydGVyLnBhcnNlKCBNYWluU2NlbmUuc2NlbmUsIGZ1bmN0aW9uICggcmVzdWx0ICkge1xyXG5cclxuXHRcdC8vIGxldCBwbHkgPSBKU09OLnN0cmluZ2lmeSggcmVzdWx0LCBudWxsLCAyICk7XHJcblxyXG5cdFx0bGV0IGJsb2IgPSBuZXcgQmxvYiggW3Jlc3VsdF0sIHt0eXBlOiAndGV4dC9wbGFpbid9KTtcclxuXHJcblx0XHRzYXZlRmlsZSggYmxvYiAsICdTY2VuZScsICdwbHknICk7XHJcblxyXG5cdH0gKTtcclxuXHJcblx0XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGV4cG9ydFNUTEJpbmFyeSggKSB7XHJcblxyXG5cdGxldCBleHBvcnRlciA9IG5ldyBTVExFeHBvcnRlcigpO1xyXG5cclxuXHRsZXQgcmVzdWx0ID0gZXhwb3J0ZXIucGFyc2UoIE1haW5TY2VuZS5zY2VuZSwgeyBiaW5hcnk6IHRydWUgfSApO1xyXG5cdGxldCBibG9iID0gbmV3IEJsb2IoIFtyZXN1bHRdLCB7dHlwZTogJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScgfSk7XHJcblxyXG5cdHNhdmVGaWxlKCBibG9iICwgJ1NjZW5lJywgJ3N0bCcgKTtcclxuXHRcclxufVxyXG5cclxuZnVuY3Rpb24gc2F2ZUZpbGUoIGJsb2IsIG5hbWUsIGZpbGVFeHRlbnRpb24gKXtcclxuXHJcblx0bGV0IGZpbGVOYW1lID0gbmFtZSArICcuJyArIGZpbGVFeHRlbnRpb247XHJcblxyXG5cdGxldCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG5cdGxpbmsuZG93bmxvYWQgPSBmaWxlTmFtZTtcclxuXHJcblx0aWYgKHdpbmRvdy5uYXZpZ2F0b3IgJiYgd2luZG93Lm5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKSB7XHJcblxyXG5cdFx0d2luZG93Lm5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKCBibG9iLCBmaWxlTmFtZSApO1xyXG5cclxuXHR9IGVsc2Uge1xyXG5cclxuXHRcdGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoIGJsb2IgKTtcclxuXHJcblx0XHRsaW5rLmNsaWNrKCk7XHJcblxyXG5cdFx0VVJMLnJldm9rZU9iamVjdFVSTCggbGluay5ocmVmICk7XHJcblx0XHRcclxuXHR9XHJcblxyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUdlb21ldHJ5KCBnZW9tZXRyeVR5cGUsIHBhcmFtcyApe1xyXG5cclxuXHRsZXQgZ2VvbWV0cnkgPSBuZXcgVEhSRUVbIGdlb21ldHJ5VHlwZSBdKCk7XHJcblxyXG5cdGxldCBwYXJhbXNBcnJheSA9IE9iamVjdC52YWx1ZXMoIHBhcmFtcyApO1xyXG5cclxuXHRnZW9tZXRyeSA9IG5ldyBUSFJFRVsgZ2VvbWV0cnlUeXBlIF0oIC4uLnBhcmFtc0FycmF5ICk7XHJcblxyXG5cdCByZXR1cm4gZ2VvbWV0cnk7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVPYmplY3QoIHBhcmFtZXRlck5hbWUsIHBhcmFtZXRlclZhbHVlLCBlbnRpdHkgKSB7XHJcblxyXG5cdGxldCBnZW9tID0gZW50aXR5Lmdlb21ldHJ5O1xyXG5cclxuXHRcdFx0bGV0IHBhcmFtcyA9IHt9O1xyXG5cdFx0XHRPYmplY3QuYXNzaWduKCBwYXJhbXMsIGdlb20ucGFyYW1ldGVycyApO1xyXG5cdFx0XHRwYXJhbXNbIHBhcmFtZXRlck5hbWUgXSA9IHBhcmFtZXRlclZhbHVlO1xyXG5cclxuXHRcdFx0bGV0IG5ld0dlb20gPSBjcmVhdGVHZW9tZXRyeSAoIGVudGl0eS5nZW9tZXRyeS50eXBlLCBwYXJhbXMgKTtcclxuXHJcblx0XHRcdGVudGl0eS5nZW9tZXRyeS5kaXNwb3NlKCk7XHJcblx0XHRcdGVudGl0eS5nZW9tZXRyeSA9IG5ld0dlb207XHJcblxyXG5cdFx0XHRsZXQgd2lyZSA9IGVudGl0eS5nZXRPYmplY3RCeU5hbWUoICd3aXJlJyk7XHJcblxyXG5cdFx0XHR3aXJlLmdlb21ldHJ5LmRpc3Bvc2UoKTtcclxuXHJcblx0XHRcdHdpcmUuZ2VvbWV0cnkgPSBuZXcgVEhSRUUuRWRnZXNHZW9tZXRyeSggZW50aXR5Lmdlb21ldHJ5ICk7XHJcblxyXG59XHJcblxyXG5leHBvcnQgeyBVSSB9Il0sInNvdXJjZVJvb3QiOiIifQ==