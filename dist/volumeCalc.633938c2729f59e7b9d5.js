!function(e){function t(t){for(var n,l,o=t[0],s=t[1],c=t[2],d=0,m=[];d<o.length;d++)l=o[d],Object.prototype.hasOwnProperty.call(a,l)&&a[l]&&m.push(a[l][0]),a[l]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(u&&u(t);m.length;)m.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var s=r[o];0!==a[s]&&(n=!1)}n&&(i.splice(t--,1),e=l(l.s=r[0]))}return e}var n={},a={1:0},i=[];function l(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.m=e,l.c=n,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(r,n,function(t){return e[t]}.bind(null,n));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var o=window.webpackJsonp=window.webpackJsonp||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=s;i.push([7,0]),r()}({6:function(e,t,r){},7:function(e,t,r){"use strict";r.r(t);r(6);var n=r(0),a=r(1);let i={textures:[{image:"brick-texture.jpg",price:150},{image:"coswick-oak-natural.jpg",price:30},{image:"tile.jpg",price:48},{image:"crossed-out.png",price:0}]};let l=new class{constructor(){this.materialsArea={areas:[]}}getFaceArea(e,t){let r=e.a,a=t.geometry.vertices[r],i=e.b,l=t.geometry.vertices[i],o=e.c,s=t.geometry.vertices[o],c=new n.Triangle(a,l,s);return Math.floor(1e3*c.getArea())/1e3}createPolygonByFace(e,t){let r=e.a,a=t.geometry.vertices[r],i=e.b,l=t.geometry.vertices[i],o=e.c,s=t.geometry.vertices[o],c=new n.Geometry;return c.vertices.push(a,l,s),c.faces.push(new n.Face3(0,1,2)),c}getMaterialsArea(e,t){let r=[],n=this.getFacesInfo(t,e);for(let e of i.textures)if("crossed-out.png"!==e.image){let t=n.filter(t=>t.image===e.image).reduce((e,t)=>e+Math.floor(1e3*t.area)/1e3,0);r.push({image:e.image,area:t})}return r}getFacesInfo(e,t){let r=t.map((function(e){let t;return e&&(t=e.userData),t}));return e.geometry.faces.map((function(t){let n={};return n.materialIndex=t.materialIndex,n.area=l.getFaceArea(t,e),n.image=r[t.materialIndex],n}))}fillTable(e){e.areas.length,e.areas.forEach(e=>{let t=document.getElementById(e.image),r=Math.trunc(1e3*e.area)/1e3;t.innerHTML=r;let n=document.getElementById("cost-"+e.image),a=i.textures.filter(t=>t.image===e.image);n.innerHTML=Math.trunc(+r*a[0].price*1e3)/1e3})}},o={},s=new n.Scene;s.background=new n.Color("#bdd0e9");let c=new n.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),u=new n.WebGLRenderer;u.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(u.domElement);let d=new a.a(c,u.domElement),m=new n.Raycaster,g=[],p={img:""};window.addEventListener("resize",(function(){c.aspect=window.innerWidth/window.innerHeight,c.updateProjectionMatrix(),u.setSize(window.innerWidth,window.innerHeight)}),!1),document.addEventListener("mousedown",(function(e){let t=L(e);m.setFromCamera(t,c);let r=m.intersectObjects(g);if(r.length>0){let e=r[0].face.materialIndex;if(p.img){let t,r=p.img.split("/").pop();"crossed-out.png"!==r?(t=(new n.TextureLoader).load(p.img),f[e]=new n.MeshBasicMaterial({map:t}),f[e].userData=r):(f[e]=new n.MeshBasicMaterial({color:new n.Color("lightgrey")}),f[e].userData={}),l.materialsArea.areas=l.getMaterialsArea(f,b),l.fillTable(l.materialsArea)}}}),!1),document.addEventListener("touchstart",(function(e){let t=L(e.touches[0]);m.setFromCamera(t,c);let r=m.intersectObjects(g);if(r.length>0){let e=r[0].face.materialIndex;if(p.img){let t,r=p.img.split("/").pop();"crossed-out.png"!==r?(t=(new n.TextureLoader).load(p.img),f[e]=new n.MeshBasicMaterial({map:t}),f[e].userData=r):(f[e]=new n.MeshBasicMaterial({color:new n.Color("lightgrey")}),f[e].userData={}),l.materialsArea.areas=l.getMaterialsArea(f,b),l.fillTable(l.materialsArea)}}}),!1);let w=new n.BoxGeometry(5,5,5,1,1,1),f=[new n.MeshBasicMaterial({color:new n.Color("lightgrey")}),new n.MeshBasicMaterial({color:new n.Color("lightgrey")}),new n.MeshBasicMaterial({color:new n.Color("lightgrey")}),new n.MeshBasicMaterial({color:new n.Color("lightgrey")}),new n.MeshBasicMaterial({color:new n.Color("lightgrey")}),new n.MeshBasicMaterial({color:new n.Color("lightgrey")})],b=new n.Mesh(w,f);s.add(b),g.push(b);let h=new n.AxesHelper(5);s.add(h);let y=new n.EdgesGeometry(b.geometry);var v=new n.LineSegments(y,new n.LineBasicMaterial({color:16777215}));v.name="wire",b.add(v),c.position.z=5,c.position.x=10,c.position.y=8,d.update(),o.scene=s,o.cube=b,o.currentTexture=p,o.materials=f;let M=function(){requestAnimationFrame(M),d.update(),u.render(s,c)};function L(e){return(new n.Vector2).set(e.clientX/window.innerWidth*2-1,-e.clientY/window.innerHeight*2+1)}M();var x=r(2),T=r(3),C=r(4),B=r(5);let E=J(document.body,"div","leftMenu");J(E,"div","title").innerHTML="Калькулятор объемов";let O=J(E,"div","formInput"),A=J(O,"div","inputDiv");J(A,"label","labelClass").innerHTML="Ширина";let H=J(A,"input","inputClass");H.type="number",H.value=5,H.min=0,H.step=.1,A=J(O,"div","inputDiv"),J(A,"label","labelClass").innerHTML="Высота";let j=J(A,"input","inputClass");j.type="number",j.value=5,j.min=0,j.step=.1,A=J(O,"div","inputDiv"),J(A,"label","labelClass").innerHTML="Глубина";let S=J(A,"input","inputClass");S.type="number",S.value=5,S.min=0,S.step=.1,J(E,"label","labelClass").innerHTML="Расчеты";let k=J(E,"div","divCalculations"),I=J(k,"table","tableClass"),P=J(I,"tr","tdClass"),F=J(P,"th","thClass");F.innerHTML="Материал",F=J(P,"th","thClass"),F.innerHTML="Площадь",F=J(P,"th","thClass"),F.innerHTML="Стоимость",i.textures.forEach(e=>{if("crossed-out.png"!==e.image){let t=J(I,"tr","tdClass"),r=J(t,"td","tdClass");J(r,"img","imgTable").src=e.image;let n=J(t,"td","tdClass");n.id=e.image,n.innerHTML=0;let a=J(t,"td","tdClass");a.id="cost-"+e.image,a.innerHTML=0}}),j.addEventListener("input",e=>{let t=j.value;t<.001&&(t=.001),N("height",t,o.cube),l.materialsArea.areas=l.getMaterialsArea(o.materials,o.cube),l.fillTable(l.materialsArea)}),H.addEventListener("input",e=>{let t=H.value;t<.001&&(t=.001),N("width",t,o.cube),l.materialsArea.areas=l.getMaterialsArea(o.materials,o.cube),l.fillTable(l.materialsArea)}),S.addEventListener("input",e=>{let t=S.value;t<.001&&(t=.001),N("depth",t,o.cube),l.materialsArea.areas=l.getMaterialsArea(o.materials,o.cube),l.fillTable(l.materialsArea)});let D=J(E,"div","exportButtonDiv"),R=J(D,"button","exportButton");R.innerHTML="glTF",R.addEventListener("click",(function(){(new x.a).parse(o.scene,(function(e){let t=JSON.stringify(e,null,2);U(new Blob([t],{type:"text/plain"}),"Scene","gltf")}))}));let W=J(D,"button","exportButton");W.innerHTML="STL",W.addEventListener("click",(function(){let e=(new T.a).parse(o.scene,{binary:!0});U(new Blob([e],{type:"application/octet-stream"}),"Scene","stl")}));let _=J(D,"button","exportButton");_.innerHTML="EOBJ",_.addEventListener("click",(function(){let e=(new C.a).parse(o.scene);U(new Blob([e],{type:"text/plain"}),"Scene","obj")}));let G=J(D,"button","exportButton");G.innerHTML="PLY",G.addEventListener("click",(function(){(new B.a).parse(o.scene,(function(e){U(new Blob([e],{type:"text/plain"}),"Scene","ply")}))}));let z=J(E,"div","textureSelect");function J(e,t,r){let n=document.createElement(t);return n.className=r,e.appendChild(n),n}function U(e,t,r){let n=t+"."+r,a=document.createElement("a");a.download=n,window.navigator&&window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(e,n):(a.href=URL.createObjectURL(e),a.click(),URL.revokeObjectURL(a.href))}function N(e,t,r){let a=r.geometry,i={};Object.assign(i,a.parameters),i[e]=t;let l=function(e,t){let r=new n[e],a=Object.values(t);return r=new n[e](...a),r}(r.geometry.type,i);r.geometry.dispose(),r.geometry=l;let o=r.getObjectByName("wire");o.geometry.dispose(),o.geometry=new n.EdgesGeometry(r.geometry)}i.textures.forEach(e=>{let t=J(z,"img","imgClass");t.src=e.image,t.addEventListener("click",()=>{o.currentTexture.img=t.src;let e=document.getElementById("selectedTexture");e&&(e.style.borderColor="black",e.id="deselectedTexture"),t.style.borderColor="rgb(220, 20, 60)",t.id="selectedTexture"})})}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL0RhdGEuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NhbGN1bGF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVUkuanMiXSwibmFtZXMiOlsid2VicGFja0pzb25wQ2FsbGJhY2siLCJkYXRhIiwibW9kdWxlSWQiLCJjaHVua0lkIiwiY2h1bmtJZHMiLCJtb3JlTW9kdWxlcyIsImV4ZWN1dGVNb2R1bGVzIiwiaSIsInJlc29sdmVzIiwibGVuZ3RoIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaW5zdGFsbGVkQ2h1bmtzIiwicHVzaCIsIm1vZHVsZXMiLCJwYXJlbnRKc29ucEZ1bmN0aW9uIiwic2hpZnQiLCJkZWZlcnJlZE1vZHVsZXMiLCJhcHBseSIsImNoZWNrRGVmZXJyZWRNb2R1bGVzIiwicmVzdWx0IiwiZGVmZXJyZWRNb2R1bGUiLCJmdWxmaWxsZWQiLCJqIiwiZGVwSWQiLCJzcGxpY2UiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwicyIsImluc3RhbGxlZE1vZHVsZXMiLCIxIiwiZXhwb3J0cyIsIm1vZHVsZSIsImwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicCIsImpzb25wQXJyYXkiLCJ3aW5kb3ciLCJvbGRKc29ucEZ1bmN0aW9uIiwic2xpY2UiLCJEYXRhIiwidGV4dHVyZXMiLCJpbWFnZSIsInByaWNlIiwiY2FsY3VsYXRvciIsInRoaXMiLCJtYXRlcmlhbHNBcmVhIiwiYXJlYXMiLCJmYWNlIiwiYUZhY2UiLCJhIiwiYVZlcnRleCIsImdlb21ldHJ5IiwidmVydGljZXMiLCJiRmFjZSIsImIiLCJiVmVydGV4IiwiY0ZhY2UiLCJjVmVydGV4IiwidHJpYW5nbGUiLCJNYXRoIiwiZmxvb3IiLCJnZXRBcmVhIiwiZmFjZXMiLCJtYXRlcmlhbHNBcnJheSIsImFycmF5IiwiZmFjZXNJbmZvIiwiZ2V0RmFjZXNJbmZvIiwiaW1nIiwidG90YWxBcmVhIiwiZmlsdGVyIiwicmVkdWNlIiwic3VtIiwiY3VycmVudCIsImFyZWEiLCJpbWFnZXMiLCJtYXAiLCJpdGVtIiwic291cmNlIiwidXNlckRhdGEiLCJmYWNlSW5mbyIsIm1hdGVyaWFsSW5kZXgiLCJnZXRGYWNlQXJlYSIsImZvckVhY2giLCJjZWxsIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInRydW5jIiwiaW5uZXJIVE1MIiwiY2VsbENvc3QiLCJwcmljZVRleHR1cmUiLCJlbGVtIiwiTWFpblNjZW5lIiwic2NlbmUiLCJiYWNrZ3JvdW5kIiwiY2FtZXJhIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwicmVuZGVyZXIiLCJzZXRTaXplIiwiYm9keSIsImFwcGVuZENoaWxkIiwiZG9tRWxlbWVudCIsImNvbnRyb2xzIiwiT3JiaXRDb250cm9scyIsInJheWNhc3RlciIsImNsaWNrYWJsZU9iamVjdHMiLCJjdXJyZW50VGV4dHVyZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJhc3BlY3QiLCJ1cGRhdGVQcm9qZWN0aW9uTWF0cml4IiwiZXZlbnQiLCJzY3JlZW5Qb2ludCIsImdldFNjcmVlblBvaW50Iiwic2V0RnJvbUNhbWVyYSIsImludGVyc2VjdHMiLCJpbnRlcnNlY3RPYmplY3RzIiwiZmFjZUluZGV4IiwidGV4dHVyZSIsInBpY05hbWUiLCJzcGxpdCIsInBvcCIsImxvYWQiLCJtYXRlcmlhbHMiLCJjb2xvciIsImdldE1hdGVyaWFsc0FyZWEiLCJjdWJlIiwiZmlsbFRhYmxlIiwidG91Y2hlcyIsImFkZCIsImF4ZXNIZWxwZXIiLCJlZGdlcyIsImxpbmUiLCJwb3NpdGlvbiIsInoiLCJ4IiwieSIsInVwZGF0ZSIsImFuaW1hdGUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJyZW5kZXIiLCJzZXQiLCJjbGllbnRYIiwiY2xpZW50WSIsImxlZnRNZW51IiwiY3JlYXRlRWxlbWVudCIsImZvcm1JbnB1dCIsImlucHV0RGl2Iiwid2lkdGhJbnB1dCIsInR5cGUiLCJtaW4iLCJzdGVwIiwiaGVpZ2h0SW5wdXQiLCJkZXB0aHRJbnB1dCIsImRpdkNhbGN1bGF0aW9ucyIsInRhYmxlQ2FsYyIsInJvd0hlYWRlciIsImhlYWRlciIsInJvdyIsImNlbGxJbWFnZSIsInNyYyIsImNlbGxBcmVhIiwiaWQiLCJlIiwiaGVpZ2h0IiwidXBkYXRlT2JqZWN0Iiwid2lkdGgiLCJkZXB0aCIsImV4cG9ydEJ1dHRvbkRpdiIsImV4cG9ydEdMVEZCdXR0b24iLCJHTFRGRXhwb3J0ZXIiLCJwYXJzZSIsImdsdGYiLCJKU09OIiwic3RyaW5naWZ5Iiwic2F2ZUZpbGUiLCJCbG9iIiwiZXhwb3J0U1RMQnV0dG9uIiwiU1RMRXhwb3J0ZXIiLCJiaW5hcnkiLCJleHBvcnRPQkpCdXR0b24iLCJPQkpFeHBvcnRlciIsImV4cG9ydFBMWUJ1dHRvbiIsIlBMWUV4cG9ydGVyIiwidGV4dHVyZVNlbGVjdCIsInBhcmVudCIsImNsYXNzTmFtZSIsImVsZW1lbnQiLCJibG9iIiwiZmlsZUV4dGVudGlvbiIsImZpbGVOYW1lIiwibGluayIsImRvd25sb2FkIiwibmF2aWdhdG9yIiwibXNTYXZlT3JPcGVuQmxvYiIsImhyZWYiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJjbGljayIsInJldm9rZU9iamVjdFVSTCIsInBhcmFtZXRlck5hbWUiLCJwYXJhbWV0ZXJWYWx1ZSIsImVudGl0eSIsImdlb20iLCJwYXJhbXMiLCJhc3NpZ24iLCJwYXJhbWV0ZXJzIiwibmV3R2VvbSIsImdlb21ldHJ5VHlwZSIsInBhcmFtc0FycmF5IiwidmFsdWVzIiwiY3JlYXRlR2VvbWV0cnkiLCJkaXNwb3NlIiwid2lyZSIsImdldE9iamVjdEJ5TmFtZSIsInNlbGVjdGVkIiwic3R5bGUiLCJib3JkZXJDb2xvciJdLCJtYXBwaW5ncyI6ImFBQ0UsU0FBU0EsRUFBcUJDLEdBUTdCLElBUEEsSUFNSUMsRUFBVUMsRUFOVkMsRUFBV0gsRUFBSyxHQUNoQkksRUFBY0osRUFBSyxHQUNuQkssRUFBaUJMLEVBQUssR0FJSE0sRUFBSSxFQUFHQyxFQUFXLEdBQ3BDRCxFQUFJSCxFQUFTSyxPQUFRRixJQUN6QkosRUFBVUMsRUFBU0csR0FDaEJHLE9BQU9DLFVBQVVDLGVBQWVDLEtBQUtDLEVBQWlCWCxJQUFZVyxFQUFnQlgsSUFDcEZLLEVBQVNPLEtBQUtELEVBQWdCWCxHQUFTLElBRXhDVyxFQUFnQlgsR0FBVyxFQUU1QixJQUFJRCxLQUFZRyxFQUNaSyxPQUFPQyxVQUFVQyxlQUFlQyxLQUFLUixFQUFhSCxLQUNwRGMsRUFBUWQsR0FBWUcsRUFBWUgsSUFLbEMsSUFGR2UsR0FBcUJBLEVBQW9CaEIsR0FFdENPLEVBQVNDLFFBQ2RELEVBQVNVLE9BQVRWLEdBT0QsT0FIQVcsRUFBZ0JKLEtBQUtLLE1BQU1ELEVBQWlCYixHQUFrQixJQUd2RGUsSUFFUixTQUFTQSxJQUVSLElBREEsSUFBSUMsRUFDSWYsRUFBSSxFQUFHQSxFQUFJWSxFQUFnQlYsT0FBUUYsSUFBSyxDQUcvQyxJQUZBLElBQUlnQixFQUFpQkosRUFBZ0JaLEdBQ2pDaUIsR0FBWSxFQUNSQyxFQUFJLEVBQUdBLEVBQUlGLEVBQWVkLE9BQVFnQixJQUFLLENBQzlDLElBQUlDLEVBQVFILEVBQWVFLEdBQ0csSUFBM0JYLEVBQWdCWSxLQUFjRixHQUFZLEdBRTNDQSxJQUNGTCxFQUFnQlEsT0FBT3BCLElBQUssR0FDNUJlLEVBQVNNLEVBQW9CQSxFQUFvQkMsRUFBSU4sRUFBZSxLQUl0RSxPQUFPRCxFQUlSLElBQUlRLEVBQW1CLEdBS25CaEIsRUFBa0IsQ0FDckJpQixFQUFHLEdBR0FaLEVBQWtCLEdBR3RCLFNBQVNTLEVBQW9CMUIs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U2dLLFVBQ2hCVixFQUFPdEosU0FBVzJKLEVBRWxCLElBQUlNLEVBQU9YLEVBQU9ZLGdCQUFpQixRQUVuQ0QsRUFBS2pLLFNBQVNnSyxVQUVkQyxFQUFLakssU0FBVyxJQUFJLGdCQUFxQnNKLEVBQU90SixVQTVMbkRaLEVBQUtDLFNBQVMwQyxRQUFVTixJQUV2QixJQUFJbkMsRUFBUXVHLEVBQWV1QyxFQUFlLE1BQU8sWUFDakQ5SSxFQUFNc0gsSUFBTW5GLEVBQUtuQyxNQUNqQkEsRUFBTWtFLGlCQUFpQixRQUFTLEtBRS9CaEIsRUFBVWUsZUFBZXZDLElBQU0xQixFQUFNc0gsSUFFckMsSUFBSXVELEVBQVdsSSxTQUFTQyxlQUFnQixtQkFDbkNpSSxJQUNMQSxFQUFTQyxNQUFNQyxZQUFjLFFBQzdCRixFQUFTckQsR0FBSyxxQkFHZHhILEVBQU04SyxNQUFNQyxZQUFjLG1CQUMxQi9LLEVBQU13SCxHQUFLIiwiZmlsZSI6InZvbHVtZUNhbGMuNjMzOTM4YzI3MjlmNTllN2I5ZDUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbiBcdGZ1bmN0aW9uIHdlYnBhY2tKc29ucENhbGxiYWNrKGRhdGEpIHtcbiBcdFx0dmFyIGNodW5rSWRzID0gZGF0YVswXTtcbiBcdFx0dmFyIG1vcmVNb2R1bGVzID0gZGF0YVsxXTtcbiBcdFx0dmFyIGV4ZWN1dGVNb2R1bGVzID0gZGF0YVsyXTtcblxuIFx0XHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcbiBcdFx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG4gXHRcdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDAsIHJlc29sdmVzID0gW107XG4gXHRcdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpICYmIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuIFx0XHRcdFx0cmVzb2x2ZXMucHVzaChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0pO1xuIFx0XHRcdH1cbiBcdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuIFx0XHR9XG4gXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0aWYocGFyZW50SnNvbnBGdW5jdGlvbikgcGFyZW50SnNvbnBGdW5jdGlvbihkYXRhKTtcblxuIFx0XHR3aGlsZShyZXNvbHZlcy5sZW5ndGgpIHtcbiBcdFx0XHRyZXNvbHZlcy5zaGlmdCgpKCk7XG4gXHRcdH1cblxuIFx0XHQvLyBhZGQgZW50cnkgbW9kdWxlcyBmcm9tIGxvYWRlZCBjaHVuayB0byBkZWZlcnJlZCBsaXN0XG4gXHRcdGRlZmVycmVkTW9kdWxlcy5wdXNoLmFwcGx5KGRlZmVycmVkTW9kdWxlcywgZXhlY3V0ZU1vZHVsZXMgfHwgW10pO1xuXG4gXHRcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gYWxsIGNodW5rcyByZWFkeVxuIFx0XHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiBcdH07XG4gXHRmdW5jdGlvbiBjaGVja0RlZmVycmVkTW9kdWxlcygpIHtcbiBcdFx0dmFyIHJlc3VsdDtcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlZmVycmVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdHZhciBkZWZlcnJlZE1vZHVsZSA9IGRlZmVycmVkTW9kdWxlc1tpXTtcbiBcdFx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcbiBcdFx0XHRmb3IodmFyIGogPSAxOyBqIDwgZGVmZXJyZWRNb2R1bGUubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdHZhciBkZXBJZCA9IGRlZmVycmVkTW9kdWxlW2pdO1xuIFx0XHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtzW2RlcElkXSAhPT0gMCkgZnVsZmlsbGVkID0gZmFsc2U7XG4gXHRcdFx0fVxuIFx0XHRcdGlmKGZ1bGZpbGxlZCkge1xuIFx0XHRcdFx0ZGVmZXJyZWRNb2R1bGVzLnNwbGljZShpLS0sIDEpO1xuIFx0XHRcdFx0cmVzdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBkZWZlcnJlZE1vZHVsZVswXSk7XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0cmV0dXJuIHJlc3VsdDtcbiBcdH1cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3NcbiBcdC8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuIFx0Ly8gUHJvbWlzZSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbiBcdHZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG4gXHRcdDE6IDBcbiBcdH07XG5cbiBcdHZhciBkZWZlcnJlZE1vZHVsZXMgPSBbXTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0dmFyIGpzb25wQXJyYXkgPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gfHwgW107XG4gXHR2YXIgb2xkSnNvbnBGdW5jdGlvbiA9IGpzb25wQXJyYXkucHVzaC5iaW5kKGpzb25wQXJyYXkpO1xuIFx0anNvbnBBcnJheS5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2s7XG4gXHRqc29ucEFycmF5ID0ganNvbnBBcnJheS5zbGljZSgpO1xuIFx0Zm9yKHZhciBpID0gMDsgaSA8IGpzb25wQXJyYXkubGVuZ3RoOyBpKyspIHdlYnBhY2tKc29ucENhbGxiYWNrKGpzb25wQXJyYXlbaV0pO1xuIFx0dmFyIHBhcmVudEpzb25wRnVuY3Rpb24gPSBvbGRKc29ucEZ1bmN0aW9uO1xuXG5cbiBcdC8vIGFkZCBlbnRyeSBtb2R1bGUgdG8gZGVmZXJyZWQgbGlzdFxuIFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2goWzcsMF0pO1xuIFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiByZWFkeVxuIFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4iLCIvKipcclxuICogQGF1dGhvciBEcmFnb24zREdyYWZmIC8gaHR0cDovL2RyYWdvbjNkZ3JhZmYucnUvXHJcbiovXHJcblxyXG5sZXQgRGF0YSA9IHtcclxuXHJcblx0dGV4dHVyZXM6IFtcclxuXHJcblx0XHR7aW1hZ2U6J2JyaWNrLXRleHR1cmUuanBnJywgcHJpY2U6IDE1MH0sXHJcblx0XHR7aW1hZ2U6J2Nvc3dpY2stb2FrLW5hdHVyYWwuanBnJywgcHJpY2U6IDMwfSxcclxuXHRcdHtpbWFnZTondGlsZS5qcGcnLCBwcmljZTogNDh9LFxyXG5cdFx0e2ltYWdlOidjcm9zc2VkLW91dC5wbmcnLCBwcmljZTogMH1cclxuXHJcblx0XVxyXG59XHJcblxyXG5leHBvcnQgeyBEYXRhIH07IiwiLyoqXHJcbiAqIEBhdXRob3IgRHJhZ29uM0RHcmFmZiAvIGh0dHA6Ly9kcmFnb24zZGdyYWZmLnJ1L1xyXG4qL1xyXG5cclxuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAnLi4vbm9kZV9tb2R1bGVzL3RocmVlL2J1aWxkL3RocmVlLm1vZHVsZS5qcyc7XHJcbmltcG9ydCB7IERhdGEgfSBmcm9tICcuL0RhdGEuanMnO1xyXG5cclxuY2xhc3MgQ2FsY3VsYXRvciB7XHJcblxyXG5cdGNvbnN0cnVjdG9yICgpIHtcclxuXHJcblx0XHR0aGlzLm1hdGVyaWFsc0FyZWEgPSB7IGFyZWFzOiBbXSB9O1xyXG5cclxuXHR9XHJcblxyXG5cdGdldEZhY2VBcmVhICggZmFjZSwgb2JqZWN0ICl7XHJcblxyXG5cdFx0bGV0IGFGYWNlID0gZmFjZS5hO1xyXG5cdFx0bGV0IGFWZXJ0ZXggPSBvYmplY3QuZ2VvbWV0cnkudmVydGljZXNbYUZhY2VdO1xyXG5cclxuXHRcdGxldCBiRmFjZSA9IGZhY2UuYjtcclxuXHRcdGxldCBiVmVydGV4ID0gb2JqZWN0Lmdlb21ldHJ5LnZlcnRpY2VzW2JGYWNlXTtcclxuXHJcblx0XHRsZXQgY0ZhY2UgPSBmYWNlLmM7XHJcblx0XHRsZXQgY1ZlcnRleCA9IG9iamVjdC5nZW9tZXRyeS52ZXJ0aWNlc1tjRmFjZV07XHJcblxyXG5cclxuXHRcdGxldCB0cmlhbmdsZSA9IG5ldyBUSFJFRS5UcmlhbmdsZSggYVZlcnRleCwgYlZlcnRleCwgY1ZlcnRleCApO1xyXG5cclxuXHRcdHJldHVybiBNYXRoLmZsb29yKCAxMDAwICogdHJpYW5nbGUuZ2V0QXJlYSgpICkvMTAwMDtcclxuXHJcblx0fVxyXG5cclxuXHRjcmVhdGVQb2x5Z29uQnlGYWNlKCBmYWNlICwgb2JqZWN0ICkge1xyXG5cclxuXHRcdGxldCBhRmFjZSA9IGZhY2UuYTtcclxuXHRcdGxldCBhVmVydGV4ID0gb2JqZWN0Lmdlb21ldHJ5LnZlcnRpY2VzW2FGYWNlXTtcclxuXHJcblx0XHRsZXQgYkZhY2UgPSBmYWNlLmI7XHJcblx0XHRsZXQgYlZlcnRleCA9IG9iamVjdC5nZW9tZXRyeS52ZXJ0aWNlc1tiRmFjZV07XHJcblxyXG5cdFx0bGV0IGNGYWNlID0gZmFjZS5jO1xyXG5cdFx0bGV0IGNWZXJ0ZXggPSBvYmplY3QuZ2VvbWV0cnkudmVydGljZXNbY0ZhY2VdO1xyXG5cclxuXHRcdGxldCBnZW9tZXRyeSA9IG5ldyBUSFJFRS5HZW9tZXRyeSgpO1xyXG5cclxuXHRcdGdlb21ldHJ5LnZlcnRpY2VzLnB1c2goXHJcblx0XHRcdGFWZXJ0ZXgsXHJcblx0XHRcdGJWZXJ0ZXgsXHJcblx0XHRcdGNWZXJ0ZXhcclxuXHRcdFx0KTtcclxuXHJcblx0XHRnZW9tZXRyeS5mYWNlcy5wdXNoKCBuZXcgVEhSRUUuRmFjZTMoIDAsIDEsIDIgKSApO1xyXG5cclxuXHRcdHJldHVybiBnZW9tZXRyeTtcclxuXHJcblx0fVxyXG5cclxuXHRnZXRNYXRlcmlhbHNBcmVhKCBtYXRlcmlhbHNBcnJheSwgb2JqZWN0ICl7XHJcblxyXG5cdFx0bGV0IGFycmF5ID0gW107XHJcblxyXG5cdFx0bGV0IGZhY2VzSW5mbyA9IHRoaXMuZ2V0RmFjZXNJbmZvKCBvYmplY3QsIG1hdGVyaWFsc0FycmF5ICk7XHJcblxyXG5cclxuXHJcblx0XHRmb3IgKGxldCBpbWcgb2YgRGF0YS50ZXh0dXJlcyl7XHJcblxyXG5cdFx0XHRpZiAoIGltZy5pbWFnZSAhPT0gJ2Nyb3NzZWQtb3V0LnBuZycgKSB7XHJcblxyXG5cdFx0XHRcdGxldCB0b3RhbEFyZWEgPSBmYWNlc0luZm8uZmlsdGVyKCBmYWNlID0+IGZhY2UuaW1hZ2UgPT09IGltZy5pbWFnZSlcclxuXHRcdFx0XHQucmVkdWNlKCAoc3VtLCBjdXJyZW50KSA9PiBzdW0gKyBNYXRoLmZsb29yKCAxMDAwICogY3VycmVudC5hcmVhKS8gMTAwMCwgMCk7XHJcblx0XHRcdFxyXG5cdFx0XHRcdGFycmF5LnB1c2goe2ltYWdlOiBpbWcuaW1hZ2UsIGFyZWE6IHRvdGFsQXJlYSB9KTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGFycmF5O1xyXG5cdFxyXG5cdH1cclxuXHJcblx0Z2V0RmFjZXNJbmZvICggb2JqZWN0LCBtYXRlcmlhbHNBcnJheSApIHtcclxuXHJcblx0XHRsZXQgaW1hZ2VzID0gbWF0ZXJpYWxzQXJyYXkubWFwKCBmdW5jdGlvbiggaXRlbSApIHtcclxuXHRcclxuXHRcdFx0bGV0IHNvdXJjZTtcclxuXHRcdFx0aWYgKCBpdGVtICkge1xyXG5cdFx0XHRcdHNvdXJjZSA9IGl0ZW0udXNlckRhdGE7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBzb3VyY2U7XHJcblx0XHJcblx0XHR9KTtcclxuXHJcblx0XHRsZXQgZmFjZXNBcnJheSA9IG9iamVjdC5nZW9tZXRyeS5mYWNlcztcclxuXHJcblx0XHRsZXQgZmFjZXNJbmZvID0gZmFjZXNBcnJheS5tYXAoIGZ1bmN0aW9uKCBpdGVtICl7XHJcblxyXG5cdFx0XHRsZXQgZmFjZUluZm8gPSB7fTtcclxuXHRcclxuXHRcdFx0ZmFjZUluZm8ubWF0ZXJpYWxJbmRleCA9IGl0ZW0ubWF0ZXJpYWxJbmRleDtcclxuXHRcdFx0ZmFjZUluZm8uYXJlYSA9IGNhbGN1bGF0b3IuZ2V0RmFjZUFyZWEgKCBpdGVtLCBvYmplY3QgKTtcclxuXHRcdFx0ZmFjZUluZm8uaW1hZ2UgPSBpbWFnZXNbaXRlbS5tYXRlcmlhbEluZGV4XTtcclxuXHRcclxuXHRcdFx0cmV0dXJuIGZhY2VJbmZvO1xyXG5cdFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0cmV0dXJuIGZhY2VzSW5mbztcclxuXHJcblxyXG5cdH1cclxuXHJcblx0ZmlsbFRhYmxlICggbWF0ZXJpYWxzQXJlYSApIHtcclxuXHJcblx0XHRpZiAoIG1hdGVyaWFsc0FyZWEuYXJlYXMubGVuZ3RoICkge1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRtYXRlcmlhbHNBcmVhLmFyZWFzLmZvckVhY2goICggaXRlbSApID0+IHtcclxuXHRcclxuXHRcdFx0bGV0IGNlbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggaXRlbS5pbWFnZSApO1xyXG5cdFx0XHRsZXQgYXJlYSA9IE1hdGgudHJ1bmMoIDEwMDAgKiBpdGVtLmFyZWEgKSAvIDEwMDBcclxuXHRcdFx0Y2VsbC5pbm5lckhUTUwgPSBhcmVhO1xyXG5cdFxyXG5cdFx0XHRsZXQgY2VsbENvc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggJ2Nvc3QtJyArIGl0ZW0uaW1hZ2UgKTtcclxuXHRcdFx0bGV0IHByaWNlVGV4dHVyZSA9IERhdGEudGV4dHVyZXMuZmlsdGVyKCBlbGVtID0+IGVsZW0uaW1hZ2UgPT09IGl0ZW0uaW1hZ2UgKTtcclxuXHRcclxuXHRcdFx0Y2VsbENvc3QuaW5uZXJIVE1MID0gTWF0aC50cnVuYyggMTAwMCAqICgrYXJlYSAqIHByaWNlVGV4dHVyZVswXS5wcmljZSkgKS8xMDAwO1xyXG5cdFx0XHJcblx0XHR9KVxyXG5cdFx0XHJcblx0fVxyXG5cclxufVxyXG5cclxubGV0IGNhbGN1bGF0b3IgPSBuZXcgQ2FsY3VsYXRvcigpO1xyXG5cclxuZXhwb3J0IHsgY2FsY3VsYXRvciB9IiwiLyoqXHJcbiAqIEBhdXRob3IgRHJhZ29uM0RHcmFmZiAvIGh0dHA6Ly9kcmFnb24zZGdyYWZmLnJ1L1xyXG4qL1xyXG5cclxuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAnLi4vbm9kZV9tb2R1bGVzL3RocmVlL2J1aWxkL3RocmVlLm1vZHVsZS5qcyc7XHJcbmltcG9ydCB7IE9yYml0Q29udHJvbHMgfSBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL3RocmVlL2V4YW1wbGVzL2pzbS9jb250cm9scy9PcmJpdENvbnRyb2xzLmpzXCI7XHJcbmltcG9ydCB7IGNhbGN1bGF0b3IgfSBmcm9tICcuL0NhbGN1bGF0b3IuanMnO1xyXG5cclxuXHJcbmxldCBNYWluU2NlbmUgPSB7fTtcclxuXHJcbmxldCBzY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSggKTtcclxuc2NlbmUuYmFja2dyb3VuZCA9IG5ldyBUSFJFRS5Db2xvcignI2JkZDBlOScpO1xyXG5cclxubGV0IGNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSggNzUsIHdpbmRvdy5pbm5lcldpZHRoL3dpbmRvdy5pbm5lckhlaWdodCwgMC4xLCAxMDAwICk7XHJcblxyXG5sZXQgcmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcigpO1xyXG5yZW5kZXJlci5zZXRTaXplKCB3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0ICk7XHJcbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoIHJlbmRlcmVyLmRvbUVsZW1lbnQgKTtcclxuXHJcbmxldCBjb250cm9scyA9IG5ldyBPcmJpdENvbnRyb2xzKGNhbWVyYSwgcmVuZGVyZXIuZG9tRWxlbWVudCk7XHJcblxyXG5sZXQgcmF5Y2FzdGVyID0gbmV3IFRIUkVFLlJheWNhc3RlcigpO1xyXG5cclxubGV0IGNsaWNrYWJsZU9iamVjdHMgPSBbXTtcclxubGV0IGN1cnJlbnRUZXh0dXJlID0geyBpbWc6ICcnIH07XHJcblxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIG9uV2luZG93UmVzaXplLCBmYWxzZSk7XHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG9uRG9jdW1lbnRNb3VzZUNsaWNrLCBmYWxzZSk7XHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBvbkRvY3VtZW50VG91Y2hTdGFydCwgZmFsc2UpO1xyXG5cclxuZnVuY3Rpb24gb25XaW5kb3dSZXNpemUoKSB7XHJcblxyXG5cdGNhbWVyYS5hc3BlY3QgPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDtcclxuXHRjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1x0XHJcblx0cmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcclxuXHJcbn1cclxuXHJcbmxldCBnZW9tZXRyeSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSggNSwgNSwgNSwgMSwgMSwgMSApO1xyXG5cclxubGV0IG1hdGVyaWFscyA9IFtcclxuXHJcblx0bmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKCB7IGNvbG9yOiBuZXcgVEhSRUUuQ29sb3IoICdsaWdodGdyZXknICl9ICksXHJcblx0bmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKCB7IGNvbG9yOiBuZXcgVEhSRUUuQ29sb3IoICdsaWdodGdyZXknICl9ICksXHJcblx0bmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKCB7IGNvbG9yOiBuZXcgVEhSRUUuQ29sb3IoICdsaWdodGdyZXknICkgfSApLFxyXG5cdG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCggeyBjb2xvcjogbmV3IFRIUkVFLkNvbG9yKCAnbGlnaHRncmV5JyApIH0gKSxcclxuXHRuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoIHsgY29sb3I6IG5ldyBUSFJFRS5Db2xvciggJ2xpZ2h0Z3JleScgKSB9ICksXHJcblx0bmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKCB7IGNvbG9yOiBuZXcgVEhSRUUuQ29sb3IoICdsaWdodGdyZXknICkgfSApXHJcblxyXG5dXHJcblxyXG5sZXQgY3ViZSA9IG5ldyBUSFJFRS5NZXNoKCBnZW9tZXRyeSwgbWF0ZXJpYWxzICk7XHJcbnNjZW5lLmFkZCggY3ViZSApO1xyXG5jbGlja2FibGVPYmplY3RzLnB1c2goIGN1YmUgKTtcclxuXHJcbmxldCBheGVzSGVscGVyID0gbmV3IFRIUkVFLkF4ZXNIZWxwZXIoIDUgKTtcclxuc2NlbmUuYWRkKCBheGVzSGVscGVyICk7XHJcblxyXG5sZXQgZWRnZXMgPSBuZXcgVEhSRUUuRWRnZXNHZW9tZXRyeSggY3ViZS5nZW9tZXRyeSApO1xyXG52YXIgbGluZSA9IG5ldyBUSFJFRS5MaW5lU2VnbWVudHMoIGVkZ2VzLCBuZXcgVEhSRUUuTGluZUJhc2ljTWF0ZXJpYWwoIHsgY29sb3I6IDB4ZmZmZmZmIH0gKSApO1xyXG5saW5lLm5hbWUgPSAnd2lyZSc7XHJcbmN1YmUuYWRkKCBsaW5lICk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuY2FtZXJhLnBvc2l0aW9uLnogPSA1O1xyXG5jYW1lcmEucG9zaXRpb24ueCA9IDEwO1xyXG5jYW1lcmEucG9zaXRpb24ueSA9IDg7XHJcbmNvbnRyb2xzLnVwZGF0ZSgpO1xyXG5cclxuZnVuY3Rpb24gb25Eb2N1bWVudE1vdXNlQ2xpY2soIGV2ZW50ICkge1xyXG5cclxuXHRsZXQgc2NyZWVuUG9pbnQgPSBnZXRTY3JlZW5Qb2ludChldmVudCk7XHJcblxyXG5cdHJheWNhc3Rlci5zZXRGcm9tQ2FtZXJhKHNjcmVlblBvaW50LCBjYW1lcmEpO1xyXG5cdFxyXG5cdGxldCBpbnRlcnNlY3RzID0gcmF5Y2FzdGVyLmludGVyc2VjdE9iamVjdHMoIGNsaWNrYWJsZU9iamVjdHMgKTtcclxuXHJcblx0aWYgKCBpbnRlcnNlY3RzLmxlbmd0aCA+IDAgKXtcclxuXHJcblx0XHRsZXQgZmFjZUluZGV4ID0gaW50ZXJzZWN0c1swXS5mYWNlLm1hdGVyaWFsSW5kZXg7XHJcblxyXG5cdFx0aWYgKCBjdXJyZW50VGV4dHVyZS5pbWcgKXtcclxuXHJcblx0XHRcdGxldCB0ZXh0dXJlO1xyXG5cdFx0XHRsZXQgcGljTmFtZSA9ICgoY3VycmVudFRleHR1cmUuaW1nKS5zcGxpdCgnLycpKS5wb3AoKTtcclxuXHJcblx0XHRcdGlmICggcGljTmFtZSAhPT0gJ2Nyb3NzZWQtb3V0LnBuZycgKSB7XHJcblxyXG5cdFx0XHRcdHRleHR1cmUgPSBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQoIGN1cnJlbnRUZXh0dXJlLmltZyApO1xyXG5cdFx0XHRcdC8vIHRleHR1cmUud3JhcFMgPSBUSFJFRS5SZXBlYXRXcmFwcGluZztcclxuXHRcdFx0XHQvLyB0ZXh0dXJlLndyYXBUID0gVEhSRUUuUmVwZWF0V3JhcHBpbmc7XHJcblx0XHRcdFx0Ly8gdGV4dHVyZS5yZXBlYXQuc2V0KCA0LCA0ICk7XHJcblx0XHRcdFx0bWF0ZXJpYWxzWyBmYWNlSW5kZXggXSA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCggeyBtYXA6IHRleHR1cmUgfSApO1xyXG5cdFx0XHRcdG1hdGVyaWFsc1sgZmFjZUluZGV4IF0udXNlckRhdGEgPSBwaWNOYW1lO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cclxuXHRcdFx0XHRtYXRlcmlhbHNbIGZhY2VJbmRleCBdID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKCB7IGNvbG9yOiBuZXcgVEhSRUUuQ29sb3IoICdsaWdodGdyZXknICkgfSApO1xyXG5cdFx0XHRcdG1hdGVyaWFsc1sgZmFjZUluZGV4IF0udXNlckRhdGEgPSB7fTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNhbGN1bGF0b3IubWF0ZXJpYWxzQXJlYS5hcmVhcyA9IGNhbGN1bGF0b3IuZ2V0TWF0ZXJpYWxzQXJlYSggbWF0ZXJpYWxzLCBjdWJlICk7XHJcblxyXG5cdFx0XHRjYWxjdWxhdG9yLmZpbGxUYWJsZSAoIGNhbGN1bGF0b3IubWF0ZXJpYWxzQXJlYSApO1xyXG5cclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gb25Eb2N1bWVudFRvdWNoU3RhcnQoIGV2ZW50ICkge1xyXG5cclxuXHRsZXQgc2NyZWVuUG9pbnQgPSBnZXRTY3JlZW5Qb2ludCggZXZlbnQudG91Y2hlc1swXSApO1xyXG5cclxuXHRyYXljYXN0ZXIuc2V0RnJvbUNhbWVyYShzY3JlZW5Qb2ludCwgY2FtZXJhKTtcclxuXHRcclxuXHRsZXQgaW50ZXJzZWN0cyA9IHJheWNhc3Rlci5pbnRlcnNlY3RPYmplY3RzKCBjbGlja2FibGVPYmplY3RzICk7XHJcblxyXG5cdGlmICggaW50ZXJzZWN0cy5sZW5ndGggPiAwICl7XHJcblxyXG5cdFx0bGV0IGZhY2VJbmRleCA9IGludGVyc2VjdHNbMF0uZmFjZS5tYXRlcmlhbEluZGV4O1xyXG5cclxuXHRcdGlmICggY3VycmVudFRleHR1cmUuaW1nICl7XHJcblxyXG5cdFx0XHRsZXQgdGV4dHVyZTtcclxuXHRcdFx0bGV0IHBpY05hbWUgPSAoKGN1cnJlbnRUZXh0dXJlLmltZykuc3BsaXQoJy8nKSkucG9wKCk7XHJcblxyXG5cdFx0XHRpZiAoIHBpY05hbWUgIT09ICdjcm9zc2VkLW91dC5wbmcnICkge1xyXG5cclxuXHRcdFx0XHR0ZXh0dXJlID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKCBjdXJyZW50VGV4dHVyZS5pbWcgKTtcclxuXHRcdFx0XHQvLyB0ZXh0dXJlLndyYXBTID0gVEhSRUUuUmVwZWF0V3JhcHBpbmc7XHJcblx0XHRcdFx0Ly8gdGV4dHVyZS53cmFwVCA9IFRIUkVFLlJlcGVhdFdyYXBwaW5nO1xyXG5cdFx0XHRcdC8vIHRleHR1cmUucmVwZWF0LnNldCggNCwgNCApO1xyXG5cdFx0XHRcdG1hdGVyaWFsc1sgZmFjZUluZGV4IF0gPSBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoIHsgbWFwOiB0ZXh0dXJlIH0gKTtcclxuXHRcdFx0XHRtYXRlcmlhbHNbIGZhY2VJbmRleCBdLnVzZXJEYXRhID0gcGljTmFtZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHJcblx0XHRcdFx0bWF0ZXJpYWxzWyBmYWNlSW5kZXggXSA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCggeyBjb2xvcjogbmV3IFRIUkVFLkNvbG9yKCAnbGlnaHRncmV5JyApIH0gKTtcclxuXHRcdFx0XHRtYXRlcmlhbHNbIGZhY2VJbmRleCBdLnVzZXJEYXRhID0ge307XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjYWxjdWxhdG9yLm1hdGVyaWFsc0FyZWEuYXJlYXMgPSBjYWxjdWxhdG9yLmdldE1hdGVyaWFsc0FyZWEoIG1hdGVyaWFscywgY3ViZSApO1xyXG5cclxuXHRcdFx0Y2FsY3VsYXRvci5maWxsVGFibGUgKCBjYWxjdWxhdG9yLm1hdGVyaWFsc0FyZWEgKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcblxyXG59XHJcblxyXG5NYWluU2NlbmUuc2NlbmUgPSBzY2VuZTtcclxuTWFpblNjZW5lLmN1YmUgPSBjdWJlO1xyXG5NYWluU2NlbmUuY3VycmVudFRleHR1cmUgPSBjdXJyZW50VGV4dHVyZTtcclxuTWFpblNjZW5lLm1hdGVyaWFscyA9IG1hdGVyaWFscztcclxuXHJcblxyXG5sZXQgYW5pbWF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuXHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoIGFuaW1hdGUgKTtcclxuXHRjb250cm9scy51cGRhdGUoKTtcclxuXHJcblx0cmVuZGVyZXIucmVuZGVyKCBzY2VuZSwgY2FtZXJhICk7XHJcbn07XHJcblxyXG5hbmltYXRlKCk7XHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0U2NyZWVuUG9pbnQoZXZlbnQpIHtcclxuXHQvLyBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdGNvbnN0IHNjcmVlblBvaW50ID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcclxuXHRyZXR1cm4gc2NyZWVuUG9pbnQuc2V0KChldmVudC5jbGllbnRYIC8gd2luZG93LmlubmVyV2lkdGgpICogMiAtIDEsIC0oZXZlbnQuY2xpZW50WSAvIHdpbmRvdy5pbm5lckhlaWdodCkgKiAyICsgMSk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IE1haW5TY2VuZSB9OyIsIi8qKlxyXG4gKiBAYXV0aG9yIERyYWdvbjNER3JhZmYgLyBodHRwOi8vZHJhZ29uM2RncmFmZi5ydS9cclxuKi9cclxuXHJcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJy4uL25vZGVfbW9kdWxlcy90aHJlZS9idWlsZC90aHJlZS5tb2R1bGUuanMnO1xyXG5pbXBvcnQgeyBNYWluU2NlbmUgfSBmcm9tICcuL2VuZ2luZS5qcyc7XHJcbmltcG9ydCB7IGNhbGN1bGF0b3IgfSBmcm9tICcuL0NhbGN1bGF0b3IuanMnXHJcbmltcG9ydCB7IEdMVEZFeHBvcnRlciB9IGZyb20gJy4uL25vZGVfbW9kdWxlcy90aHJlZS9leGFtcGxlcy9qc20vZXhwb3J0ZXJzL0dMVEZFeHBvcnRlci5qcyc7XHJcbmltcG9ydCB7IFNUTEV4cG9ydGVyIH0gZnJvbSAnLi4vbm9kZV9tb2R1bGVzL3RocmVlL2V4YW1wbGVzL2pzbS9leHBvcnRlcnMvU1RMRXhwb3J0ZXIuanMnO1xyXG5pbXBvcnQgeyBPQkpFeHBvcnRlciB9IGZyb20gJy4uL25vZGVfbW9kdWxlcy90aHJlZS9leGFtcGxlcy9qc20vZXhwb3J0ZXJzL09CSkV4cG9ydGVyLmpzJztcclxuaW1wb3J0IHsgUExZRXhwb3J0ZXIgIH0gZnJvbSAnLi4vbm9kZV9tb2R1bGVzL3RocmVlL2V4YW1wbGVzL2pzbS9leHBvcnRlcnMvUExZRXhwb3J0ZXIuanMnO1xyXG5pbXBvcnQgeyBEYXRhIH0gZnJvbSAnLi9EYXRhLmpzJztcclxuXHJcblxyXG5sZXQgVUkgPSB7fTtcclxuXHJcbmxldCBsZWZ0TWVudSA9IGNyZWF0ZUVsZW1lbnQoIGRvY3VtZW50LmJvZHksICdkaXYnLCAnbGVmdE1lbnUnKTtcclxuXHJcblxyXG5sZXQgdGl0bGUgPSBjcmVhdGVFbGVtZW50KCBsZWZ0TWVudSwgJ2RpdicsICd0aXRsZScpO1xyXG50aXRsZS5pbm5lckhUTUwgPSAn0JrQsNC70YzQutGD0LvRj9GC0L7RgCDQvtCx0YrQtdC80L7Qsic7XHJcblxyXG5sZXQgZm9ybUlucHV0ID0gY3JlYXRlRWxlbWVudCggbGVmdE1lbnUsICdkaXYnLCAnZm9ybUlucHV0Jyk7XHJcblxyXG5sZXQgaW5wdXREaXYgPSBjcmVhdGVFbGVtZW50ICggZm9ybUlucHV0LCAnZGl2JywgJ2lucHV0RGl2Jyk7XHJcblxyXG5sZXQgdGV4dFdpZHRoSW5wdXQgPSBjcmVhdGVFbGVtZW50KCBpbnB1dERpdiwgJ2xhYmVsJywgJ2xhYmVsQ2xhc3MnKTtcclxudGV4dFdpZHRoSW5wdXQuaW5uZXJIVE1MID0gJ9Co0LjRgNC40L3QsCc7XHJcblxyXG5sZXQgd2lkdGhJbnB1dCA9IGNyZWF0ZUVsZW1lbnQoIGlucHV0RGl2LCAnaW5wdXQnLCAnaW5wdXRDbGFzcycpO1xyXG53aWR0aElucHV0LnR5cGUgPSAnbnVtYmVyJztcclxud2lkdGhJbnB1dC52YWx1ZSA9IDU7XHJcbndpZHRoSW5wdXQubWluID0gMDtcclxud2lkdGhJbnB1dC5zdGVwID0gMC4xO1xyXG5cclxuXHJcbmlucHV0RGl2ID0gY3JlYXRlRWxlbWVudCAoIGZvcm1JbnB1dCwgJ2RpdicsICdpbnB1dERpdicpO1xyXG5sZXQgdGV4dEhlaWdodElucHV0ID0gY3JlYXRlRWxlbWVudCggaW5wdXREaXYsICdsYWJlbCcsICdsYWJlbENsYXNzJyk7XHJcbnRleHRIZWlnaHRJbnB1dC5pbm5lckhUTUwgPSAn0JLRi9GB0L7RgtCwJztcclxuXHJcbmxldCBoZWlnaHRJbnB1dCA9IGNyZWF0ZUVsZW1lbnQoIGlucHV0RGl2LCAnaW5wdXQnLCAnaW5wdXRDbGFzcycpO1xyXG5oZWlnaHRJbnB1dC50eXBlID0gJ251bWJlcic7XHJcbmhlaWdodElucHV0LnZhbHVlID0gNTtcclxuaGVpZ2h0SW5wdXQubWluID0gMDtcclxuaGVpZ2h0SW5wdXQuc3RlcCA9IDAuMTtcclxuXHJcblxyXG5pbnB1dERpdiA9IGNyZWF0ZUVsZW1lbnQgKCBmb3JtSW5wdXQsICdkaXYnLCAnaW5wdXREaXYnKTtcclxubGV0IHRleHREZXB0aHRJbnB1dCA9IGNyZWF0ZUVsZW1lbnQoIGlucHV0RGl2LCAnbGFiZWwnLCAnbGFiZWxDbGFzcycpO1xyXG50ZXh0RGVwdGh0SW5wdXQuaW5uZXJIVE1MID0gJ9CT0LvRg9Cx0LjQvdCwJztcclxuXHJcbmxldCBkZXB0aHRJbnB1dCA9IGNyZWF0ZUVsZW1lbnQoIGlucHV0RGl2LCAnaW5wdXQnLCAnaW5wdXRDbGFzcycpO1xyXG5kZXB0aHRJbnB1dC50eXBlID0gJ251bWJlcic7XHJcbmRlcHRodElucHV0LnZhbHVlID0gNTtcclxuZGVwdGh0SW5wdXQubWluID0gMDtcclxuZGVwdGh0SW5wdXQuc3RlcCA9IDAuMTtcclxuXHJcblxyXG5sZXQgY2FsY3VsYXRpb25zVGV4dCA9IGNyZWF0ZUVsZW1lbnQoIGxlZnRNZW51LCAnbGFiZWwnLCAnbGFiZWxDbGFzcycgKTtcclxuY2FsY3VsYXRpb25zVGV4dC5pbm5lckhUTUwgPSAn0KDQsNGB0YfQtdGC0YsnO1xyXG5cclxubGV0IGRpdkNhbGN1bGF0aW9ucyA9IGNyZWF0ZUVsZW1lbnQoIGxlZnRNZW51LCAnZGl2JywgJ2RpdkNhbGN1bGF0aW9ucycgKTtcclxuXHJcbmxldCB0YWJsZUNhbGMgPSBjcmVhdGVFbGVtZW50KCBkaXZDYWxjdWxhdGlvbnMsICd0YWJsZScsICd0YWJsZUNsYXNzJyApO1xyXG5sZXQgcm93SGVhZGVyID0gY3JlYXRlRWxlbWVudCggdGFibGVDYWxjLCAndHInLCAndGRDbGFzcycpO1xyXG5sZXQgaGVhZGVyID0gY3JlYXRlRWxlbWVudCggcm93SGVhZGVyLCAndGgnLCAndGhDbGFzcycpO1xyXG5oZWFkZXIuaW5uZXJIVE1MID0gJ9Cc0LDRgtC10YDQuNCw0LsnO1xyXG5oZWFkZXIgPSBjcmVhdGVFbGVtZW50KCByb3dIZWFkZXIsICd0aCcsICd0aENsYXNzJyk7XHJcbmhlYWRlci5pbm5lckhUTUwgPSAn0J/Qu9C+0YnQsNC00YwnO1xyXG5oZWFkZXIgPSBjcmVhdGVFbGVtZW50KCByb3dIZWFkZXIsICd0aCcsICd0aENsYXNzJyk7XHJcbmhlYWRlci5pbm5lckhUTUwgPSAn0KHRgtC+0LjQvNC+0YHRgtGMJztcclxuXHJcbkRhdGEudGV4dHVyZXMuZm9yRWFjaCggKGl0ZW0gKSA9PiB7XHJcblxyXG5cdGlmIChpdGVtLmltYWdlICE9PSAnY3Jvc3NlZC1vdXQucG5nJyApIHtcclxuXHRcdGxldCByb3cgPSBjcmVhdGVFbGVtZW50KCB0YWJsZUNhbGMsICd0cicsICd0ZENsYXNzJyk7XHJcblx0XHRsZXQgY2VsbEltYWdlID0gY3JlYXRlRWxlbWVudCggcm93LCAndGQnLCAndGRDbGFzcycpO1xyXG5cdFx0XHRsZXQgaW1nVGFibGUgPSBjcmVhdGVFbGVtZW50KCBjZWxsSW1hZ2UsICdpbWcnLCAnaW1nVGFibGUnKTtcclxuXHRcdFx0aW1nVGFibGUuc3JjID0gaXRlbS5pbWFnZTtcclxuXHJcblx0XHRsZXQgY2VsbEFyZWEgPSBjcmVhdGVFbGVtZW50KCByb3csICd0ZCcsICd0ZENsYXNzJyk7XHJcblx0XHRjZWxsQXJlYS5pZCA9IGl0ZW0uaW1hZ2U7XHJcblx0XHRjZWxsQXJlYS5pbm5lckhUTUwgPSAwO1xyXG5cclxuXHRcdGxldCBjZWxsQ29zdCA9IGNyZWF0ZUVsZW1lbnQoIHJvdywgJ3RkJywgJ3RkQ2xhc3MnKTtcclxuXHRcdGNlbGxDb3N0LmlkID0gJ2Nvc3QtJyArIGl0ZW0uaW1hZ2U7XHJcblx0XHRjZWxsQ29zdC5pbm5lckhUTUwgPSAwO1xyXG5cdH1cclxuXHJcbn0pO1xyXG5cclxuaGVpZ2h0SW5wdXQuYWRkRXZlbnRMaXN0ZW5lciggJ2lucHV0JywgKGUpID0+IHtcclxuXHJcblx0bGV0IGhlaWdodCA9IGhlaWdodElucHV0LnZhbHVlO1xyXG5cclxuXHRpZiAoIGhlaWdodCA8IDAuMDAxICkgaGVpZ2h0ID0gMC4wMDE7XHJcblxyXG5cdHVwZGF0ZU9iamVjdCgnaGVpZ2h0JywgaGVpZ2h0LCBNYWluU2NlbmUuY3ViZSApO1xyXG5cdGNhbGN1bGF0b3IubWF0ZXJpYWxzQXJlYS5hcmVhcyA9IGNhbGN1bGF0b3IuZ2V0TWF0ZXJpYWxzQXJlYSggTWFpblNjZW5lLm1hdGVyaWFscywgTWFpblNjZW5lLmN1YmUgKTtcclxuXHRjYWxjdWxhdG9yLmZpbGxUYWJsZSAoIGNhbGN1bGF0b3IubWF0ZXJpYWxzQXJlYSApO1xyXG5cclxufSk7XHJcblxyXG53aWR0aElucHV0LmFkZEV2ZW50TGlzdGVuZXIoICdpbnB1dCcsIChlKSA9PiB7XHJcblxyXG5cdGxldCB3aWR0aCA9IHdpZHRoSW5wdXQudmFsdWU7XHJcblxyXG5cdGlmICggd2lkdGggPCAwLjAwMSApIHdpZHRoID0gMC4wMDE7XHJcblxyXG5cdHVwZGF0ZU9iamVjdCgnd2lkdGgnLCB3aWR0aCwgTWFpblNjZW5lLmN1YmUgKTtcclxuXHRjYWxjdWxhdG9yLm1hdGVyaWFsc0FyZWEuYXJlYXMgPSBjYWxjdWxhdG9yLmdldE1hdGVyaWFsc0FyZWEoIE1haW5TY2VuZS5tYXRlcmlhbHMsIE1haW5TY2VuZS5jdWJlICk7XHJcblx0Y2FsY3VsYXRvci5maWxsVGFibGUgKCBjYWxjdWxhdG9yLm1hdGVyaWFsc0FyZWEgKTtcclxuXHJcbn0pO1xyXG5cclxuZGVwdGh0SW5wdXQuYWRkRXZlbnRMaXN0ZW5lciggJ2lucHV0JywgKGUpID0+IHtcclxuXHJcblx0bGV0IGRlcHRoID0gZGVwdGh0SW5wdXQudmFsdWU7XHJcblxyXG5cdGlmICggZGVwdGggPCAwLjAwMSApIGRlcHRoID0gMC4wMDE7XHJcblxyXG5cdHVwZGF0ZU9iamVjdCgnZGVwdGgnLCBkZXB0aCwgTWFpblNjZW5lLmN1YmUgKTtcclxuXHRjYWxjdWxhdG9yLm1hdGVyaWFsc0FyZWEuYXJlYXMgPSBjYWxjdWxhdG9yLmdldE1hdGVyaWFsc0FyZWEoIE1haW5TY2VuZS5tYXRlcmlhbHMsIE1haW5TY2VuZS5jdWJlICk7XHJcblx0Y2FsY3VsYXRvci5maWxsVGFibGUgKCBjYWxjdWxhdG9yLm1hdGVyaWFsc0FyZWEgKTtcclxuXHJcbn0pO1xyXG5cclxuXHJcbmxldCBleHBvcnRCdXR0b25EaXYgPSBjcmVhdGVFbGVtZW50KCBsZWZ0TWVudSwgJ2RpdicsICdleHBvcnRCdXR0b25EaXYnKTtcclxuXHJcbmxldCBleHBvcnRHTFRGQnV0dG9uID0gY3JlYXRlRWxlbWVudCggZXhwb3J0QnV0dG9uRGl2LCAnYnV0dG9uJywgJ2V4cG9ydEJ1dHRvbicpO1xyXG5leHBvcnRHTFRGQnV0dG9uLmlubmVySFRNTCA9ICdnbFRGJztcclxuZXhwb3J0R0xURkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCBleHBvcnRHTFRGKTtcclxuXHJcbmxldCBleHBvcnRTVExCdXR0b24gPSBjcmVhdGVFbGVtZW50KCBleHBvcnRCdXR0b25EaXYsICdidXR0b24nLCAnZXhwb3J0QnV0dG9uJyk7XHJcbmV4cG9ydFNUTEJ1dHRvbi5pbm5lckhUTUwgPSAnU1RMJztcclxuZXhwb3J0U1RMQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsIGV4cG9ydFNUTEJpbmFyeSk7XHJcblxyXG5sZXQgZXhwb3J0T0JKQnV0dG9uID0gY3JlYXRlRWxlbWVudCggZXhwb3J0QnV0dG9uRGl2LCAnYnV0dG9uJywgJ2V4cG9ydEJ1dHRvbicpO1xyXG5leHBvcnRPQkpCdXR0b24uaW5uZXJIVE1MID0gJ0VPQkonO1xyXG5leHBvcnRPQkpCdXR0b24uYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgZXhwb3J0T0JKKTtcclxuXHJcbmxldCBleHBvcnRQTFlCdXR0b24gPSBjcmVhdGVFbGVtZW50KCBleHBvcnRCdXR0b25EaXYsICdidXR0b24nLCAnZXhwb3J0QnV0dG9uJyk7XHJcbmV4cG9ydFBMWUJ1dHRvbi5pbm5lckhUTUwgPSAnUExZJztcclxuZXhwb3J0UExZQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsIGV4cG9ydFBMWSk7XHJcblxyXG5cclxuXHJcbmxldCB0ZXh0dXJlU2VsZWN0ID0gY3JlYXRlRWxlbWVudCggbGVmdE1lbnUsICdkaXYnLCAndGV4dHVyZVNlbGVjdCcpO1xyXG5cclxuRGF0YS50ZXh0dXJlcy5mb3JFYWNoKCAoaXRlbSApID0+IHtcclxuXHJcblx0bGV0IGltYWdlID0gY3JlYXRlRWxlbWVudCggdGV4dHVyZVNlbGVjdCwgJ2ltZycsICdpbWdDbGFzcycpO1xyXG5cdGltYWdlLnNyYyA9IGl0ZW0uaW1hZ2U7XHJcblx0aW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblxyXG5cdFx0TWFpblNjZW5lLmN1cnJlbnRUZXh0dXJlLmltZyA9IGltYWdlLnNyYztcclxuXHJcblx0XHRsZXQgc2VsZWN0ZWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggJ3NlbGVjdGVkVGV4dHVyZScgKTtcdFx0XHJcblx0XHRpZiAoIHNlbGVjdGVkICl7XHJcblx0XHRzZWxlY3RlZC5zdHlsZS5ib3JkZXJDb2xvciA9ICdibGFjayc7XHJcblx0XHRzZWxlY3RlZC5pZCA9ICdkZXNlbGVjdGVkVGV4dHVyZSc7XHJcblx0XHR9XHJcblxyXG5cdFx0aW1hZ2Uuc3R5bGUuYm9yZGVyQ29sb3IgPSAncmdiKDIyMCwgMjAsIDYwKSc7XHJcblx0XHRpbWFnZS5pZCA9ICdzZWxlY3RlZFRleHR1cmUnO1xyXG5cclxuXHR9KVxyXG5cclxufSApO1xyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50ICggcGFyZW50LCB0eXBlLCBjbGFzc05hbWUgKSB7XHJcblxyXG5cdGxldCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggdHlwZSApO1xyXG5cdGVsZW1lbnQuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG5cdHBhcmVudC5hcHBlbmRDaGlsZCggZWxlbWVudCApO1xyXG5cclxuXHRyZXR1cm4gZWxlbWVudDtcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGV4cG9ydEdMVEYoKXtcclxuXHJcblx0Ly8gbGV0IGZhY2VzQXJyYXkgPSBNYWluU2NlbmUuY3ViZS5nZW9tZXRyeS5mYWNlcztcclxuXHJcblx0Ly8gY29uc29sZS5sb2coIE1haW5TY2VuZS5jdWJlIClcclxuXHJcblxyXG5cdC8vIGZhY2VzQXJyYXkubWFwKCBmdW5jdGlvbiggaXRlbSwgaW5kZXggKXtcclxuXHJcblx0Ly8gXHRsZXQgdGVzdEdlb21ldHJ5ID0gY2FsY3VsYXRvci5jcmVhdGVQb2x5Z29uQnlGYWNlKCBpdGVtLCBNYWluU2NlbmUuY3ViZSApO1xyXG5cdC8vIFx0dGVzdEdlb21ldHJ5LnV2c05lZWRVcGRhdGUgPSB0cnVlO1xyXG5cdC8vIFx0dGVzdEdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzICgpO1xyXG5cdC8vIFx0dGVzdEdlb21ldHJ5LmNvbXB1dGVGYWNlTm9ybWFscyAoKTtcclxuXHQvLyBcdHRlc3RHZW9tZXRyeS5mYWNlVmVydGV4VXZzID0gTWFpblNjZW5lLmN1YmUuZ2VvbWV0cnkuZmFjZVZlcnRleFV2cztcclxuXHQvLyBcdC8vIHRlc3RHZW9tZXRyeS5zb3J0RmFjZXNCeU1hdGVyaWFsSW5kZXggKCApO1xyXG5cdC8vIFx0Ly8gdGVzdEdlb21ldHJ5Lm1hdGVyaWFsSW5kZXggPSBpdGVtLm1hdGVyaWFsSW5kZXg7XHJcblx0Ly8gXHRjb25zb2xlLmxvZyggdGVzdEdlb21ldHJ5IClcclxuXHJcblx0Ly8gXHRsZXQgbWF0ZXJpYWw7XHJcblx0Ly8gXHRsZXQgaW1hZ2VcclxuXHJcblx0Ly8gXHRpZiAoIHR5cGVvZiBpdGVtLnVzZXJEYXRhID09PSAnc3RyaW5nJyl7XHJcblxyXG5cdC8vIFx0XHRpbWFnZSA9IGl0ZW0udXNlckRhdGE7XHJcblxyXG5cdC8vIFx0fVxyXG5cdC8vIFx0ZWxzZXtcclxuXHJcblx0Ly8gXHRcdGltYWdlID0gJ2VtcHR5LnBuZyc7XHJcblxyXG5cdC8vIFx0fVxyXG5cclxuXHQvLyBcdGxldCB0ZXh0dXJlID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKCBpbWFnZSwgKCkgPT57XHJcblx0Ly8gXHRtYXRlcmlhbCA9IE1haW5TY2VuZS5jdWJlLm1hdGVyaWFsWyBpdGVtLm1hdGVyaWFsSW5kZXggXTtcclxuXHQvLyBcdG1hdGVyaWFsLm1hcCA9IHRleHR1cmU7XHJcblx0XHRcclxuXHJcblx0Ly8gXHRsZXQgdGVzdE1lc2ggPSBuZXcgVEhSRUUuTWVzaCggdGVzdEdlb21ldHJ5LCBtYXRlcmlhbCApO1xyXG5cdC8vIFx0TWFpblNjZW5lLnNjZW5lLmFkZCggdGVzdE1lc2ggKTtcclxuXHJcblx0Ly8gXHR9KTtcclxuXHRcdFxyXG5cclxuXHQvLyB9KTtcclxuXHJcblx0Ly8gLy8gTWFpblNjZW5lLnNjZW5lLnJlbW92ZSggTWFpblNjZW5lLmN1YmUgKTtcclxuXHJcblxyXG5cdGxldCBnbHRmRXhwb3J0ZXIgPSBuZXcgR0xURkV4cG9ydGVyKCk7XHJcblxyXG5cdGdsdGZFeHBvcnRlci5wYXJzZSggTWFpblNjZW5lLnNjZW5lLCBmdW5jdGlvbiAoIHJlc3VsdCApIHtcclxuXHJcblx0XHRsZXQgZ2x0ZiA9IEpTT04uc3RyaW5naWZ5KCByZXN1bHQsIG51bGwsIDIgKTtcclxuXHJcblx0XHRsZXQgYmxvYiA9IG5ldyBCbG9iKCBbZ2x0Zl0sIHt0eXBlOiAndGV4dC9wbGFpbid9KTtcclxuXHJcblx0XHRzYXZlRmlsZSggYmxvYiAsICdTY2VuZScsICdnbHRmJyApO1xyXG5cclxuXHR9ICk7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBleHBvcnRPQkooKSB7XHJcblxyXG5cdGxldCBvYmpFeHBvcnRlciA9IG5ldyBPQkpFeHBvcnRlcigpO1xyXG5cclxuXHRsZXQgcmVzdWx0ID0gb2JqRXhwb3J0ZXIucGFyc2UoIE1haW5TY2VuZS5zY2VuZSk7XHJcblxyXG5cdFx0Ly8gbGV0IG9iaiA9IEpTT04uc3RyaW5naWZ5KCByZXN1bHQsIG51bGwsIDIgKTtcclxuXHJcblx0XHRsZXQgYmxvYiA9IG5ldyBCbG9iKCBbcmVzdWx0XSwge3R5cGU6ICd0ZXh0L3BsYWluJ30pO1xyXG5cclxuXHRcdHNhdmVGaWxlKCBibG9iICwgJ1NjZW5lJywgJ29iaicgKTtcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGV4cG9ydFBMWSgpIHtcclxuXHJcblx0bGV0IHBseWZFeHBvcnRlciA9IG5ldyBQTFlFeHBvcnRlcigpO1xyXG5cclxuXHRwbHlmRXhwb3J0ZXIucGFyc2UoIE1haW5TY2VuZS5zY2VuZSwgZnVuY3Rpb24gKCByZXN1bHQgKSB7XHJcblxyXG5cdFx0Ly8gbGV0IHBseSA9IEpTT04uc3RyaW5naWZ5KCByZXN1bHQsIG51bGwsIDIgKTtcclxuXHJcblx0XHRsZXQgYmxvYiA9IG5ldyBCbG9iKCBbcmVzdWx0XSwge3R5cGU6ICd0ZXh0L3BsYWluJ30pO1xyXG5cclxuXHRcdHNhdmVGaWxlKCBibG9iICwgJ1NjZW5lJywgJ3BseScgKTtcclxuXHJcblx0fSApO1xyXG5cclxuXHRcclxufVxyXG5cclxuZnVuY3Rpb24gZXhwb3J0U1RMQmluYXJ5KCApIHtcclxuXHJcblx0bGV0IGV4cG9ydGVyID0gbmV3IFNUTEV4cG9ydGVyKCk7XHJcblxyXG5cdGxldCByZXN1bHQgPSBleHBvcnRlci5wYXJzZSggTWFpblNjZW5lLnNjZW5lLCB7IGJpbmFyeTogdHJ1ZSB9ICk7XHJcblx0bGV0IGJsb2IgPSBuZXcgQmxvYiggW3Jlc3VsdF0sIHt0eXBlOiAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJyB9KTtcclxuXHJcblx0c2F2ZUZpbGUoIGJsb2IgLCAnU2NlbmUnLCAnc3RsJyApO1xyXG5cdFxyXG59XHJcblxyXG5mdW5jdGlvbiBzYXZlRmlsZSggYmxvYiwgbmFtZSwgZmlsZUV4dGVudGlvbiApe1xyXG5cclxuXHRsZXQgZmlsZU5hbWUgPSBuYW1lICsgJy4nICsgZmlsZUV4dGVudGlvbjtcclxuXHJcblx0bGV0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcblx0bGluay5kb3dubG9hZCA9IGZpbGVOYW1lO1xyXG5cclxuXHRpZiAod2luZG93Lm5hdmlnYXRvciAmJiB3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IpIHtcclxuXHJcblx0XHR3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IoIGJsb2IsIGZpbGVOYW1lICk7XHJcblxyXG5cdH0gZWxzZSB7XHJcblxyXG5cdFx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTCggYmxvYiApO1xyXG5cclxuXHRcdGxpbmsuY2xpY2soKTtcclxuXHJcblx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKCBsaW5rLmhyZWYgKTtcclxuXHRcdFxyXG5cdH1cclxuXHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlR2VvbWV0cnkoIGdlb21ldHJ5VHlwZSwgcGFyYW1zICl7XHJcblxyXG5cdGxldCBnZW9tZXRyeSA9IG5ldyBUSFJFRVsgZ2VvbWV0cnlUeXBlIF0oKTtcclxuXHJcblx0bGV0IHBhcmFtc0FycmF5ID0gT2JqZWN0LnZhbHVlcyggcGFyYW1zICk7XHJcblxyXG5cdGdlb21ldHJ5ID0gbmV3IFRIUkVFWyBnZW9tZXRyeVR5cGUgXSggLi4ucGFyYW1zQXJyYXkgKTtcclxuXHJcblx0IHJldHVybiBnZW9tZXRyeTtcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZU9iamVjdCggcGFyYW1ldGVyTmFtZSwgcGFyYW1ldGVyVmFsdWUsIGVudGl0eSApIHtcclxuXHJcblx0bGV0IGdlb20gPSBlbnRpdHkuZ2VvbWV0cnk7XHJcblxyXG5cdFx0XHRsZXQgcGFyYW1zID0ge307XHJcblx0XHRcdE9iamVjdC5hc3NpZ24oIHBhcmFtcywgZ2VvbS5wYXJhbWV0ZXJzICk7XHJcblx0XHRcdHBhcmFtc1sgcGFyYW1ldGVyTmFtZSBdID0gcGFyYW1ldGVyVmFsdWU7XHJcblxyXG5cdFx0XHRsZXQgbmV3R2VvbSA9IGNyZWF0ZUdlb21ldHJ5ICggZW50aXR5Lmdlb21ldHJ5LnR5cGUsIHBhcmFtcyApO1xyXG5cclxuXHRcdFx0ZW50aXR5Lmdlb21ldHJ5LmRpc3Bvc2UoKTtcclxuXHRcdFx0ZW50aXR5Lmdlb21ldHJ5ID0gbmV3R2VvbTtcclxuXHJcblx0XHRcdGxldCB3aXJlID0gZW50aXR5LmdldE9iamVjdEJ5TmFtZSggJ3dpcmUnKTtcclxuXHJcblx0XHRcdHdpcmUuZ2VvbWV0cnkuZGlzcG9zZSgpO1xyXG5cclxuXHRcdFx0d2lyZS5nZW9tZXRyeSA9IG5ldyBUSFJFRS5FZGdlc0dlb21ldHJ5KCBlbnRpdHkuZ2VvbWV0cnkgKTtcclxuXHJcblxyXG59XHJcblxyXG5leHBvcnQgeyBVSSB9Il0sInNvdXJjZVJvb3QiOiIifQ==